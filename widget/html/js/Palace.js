/*! For license information please see Palace.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([["Palace"],{"016b":function(t,e,n){},"11b8":function(t,e,n){"use strict";n("6404")},1518:function(t,e,n){},"1a49":function(t,e,n){},"37cd":function(t,e,n){"use strict";n("1518")},"4aa9":function(t,e,n){"use strict";n.r(e),n("ef60"),n("8300"),n("ea5b"),n("e551"),n("7141");var i=new Map([["虚词",[[{word:"之",swjz:"之，指事字。从止(一只脚趾朝上的脚)，从一(表示这个地方)，会从这里出发之意。",chapter:"乾宫",image:"https://img1.baidu.com/it/u=483314673,1542440982&fm=253&fmt=auto&app=120&f=JPEG?w=440&h=260",imagenations:[{label:"人物",value:"周芷若"},{label:"地点",value:"植物园"},{label:"物品",value:"栀子花"},{label:"武器",value:"千本樱"},{label:"动作",value:"走"}],piles:[{id:1,point:{x:33,y:85},name:"植物",brief:"潜见惕跃飞亢群",extend:"乾隆+风筝线+踢+小岳岳+飞机+康师傅+裙子",association:"乾隆拉着风筝线，一脚把小岳岳踢飞到飞机上，装上了正在吃康师傅穿裙子的女人",viewpoint:"天天乾卦",sentence:"\n          初九，潜龙勿用。\n          九二，见龙在田，利见大人。\n          九三，君子终日乾乾，夕惕若，厉无咎。\n          九四，或跃在渊，无咎。\n          九五，飞龙在天，利见大人。\n          上九，亢龙有悔。\n          用九，见群龙无首，吉。\n        ",translation:"\n          初九，龙尚潜伏在水中，养精蓄锐，暂时还不能发挥作用。\n          九二，龙已出现在地上，利于出现德高势隆的大人物。\n          九三，君子整天自强不息，晚上也不敢有丝毫的懈怠，这样即使遇到危险也会逢凶化吉。\n          九四，龙或腾跃而起，或退居于渊，均不会有危害。\n          九五，龙飞上了高空，利于出现德高势隆的大人物。\n          上九，龙飞到了过高的地方，必将会后悔。\n          用九，出现群龙也不愿意为首的现象，是很吉利的。\n        "},{id:2,point:{x:38,y:35},name:"树干",brief:"其不君孝",extend:"琪琪+步枪+细菌+学校",association:"琪琪趴在草坪上，瞄准学校，用步枪发射细菌，学校被封了",viewpoint:"天风姤卦",sentence:"\n          初六，系于金柅，贞吉；有攸往，见凶，赢豕孚蹢躅。\n          九二，包有鱼，无咎；不利宾。\n          九三，臀无肤，其行次且；厉，无大咎。\n          九四，包无鱼，起凶。\n          九五，以杞包瓜，含章，有陨自天。\n          上九，姤其角；吝，无咎。\n        ",translation:"\n          初六，绑上坚固结实的车闸，占卜结果会很吉祥；前去行事，会遇到凶险，瘦弱的猪因烦躁而团团乱转。\n          九二，厨房里发现鱼，不会有灾祸；但不利于拿来宴请宾客。\n          九三，屁股上蹭破了皮，走起路来很困难；会遇到危险，但不会有大的灾祸。\n          九四，厨房里没有鱼，会发生凶险。\n          九五，用杞树枝叶包住甜瓜，好比内心怀着美好的品德，不必奔忙，称心的机遇就会自天而降。\n          上九，头上长角，处境艰难，不过也不会有大的灾祸。\n        "},{id:3,point:{x:72,y:63},name:"屋顶",brief:"巧",extend:"巧克力",association:"矮树上长满了巧克力",viewpoint:"天山遁卦",sentence:"\n          初六，遯尾；厉。勿用有攸往。\n          六二，执之用黄牛之革，莫之胜说。\n          九三，系遯，有疾厉，畜臣妾，吉。\n          九四，好遯，君子吉，小人否。\n          九五，嘉遯，贞吉。\n          上九，肥遯无不利。\n        ",translation:"\n          初六，隐退避让错过时机落在了后边，情况非常不好。面对这种情形，应该静观待变而不要有所行动，否则将会更加不利。\n          六二，像用黄牛的皮捆绑起来那样，谁也难以解脱。\n          九三，由于被牵累而难以远去，就像疾病缠身那样危险。处在这情况下，就要畜养仆人和侍妾，要使他们被我所用，只有这样，才能转危为安。\n          九四，可以从容隐退避让而无所系累。君子将因此而获得吉祥，小人却不会吉祥。\n          九五，能够进退自如地隐退避让，能坚守正道，其结果是吉祥的。\n          上九，既无牵累，又已远离，早已处在隐退避让中，就像是远走高飞一样，所以无论这时做什么，都不会有什么不利。\n        "},{id:4,point:{x:118,y:81},name:"侧门",brief:"吾为与传",extend:"武天老师+渭水+鱼+船",association:"武天老师站在大树下，一招龟派气功，将渭水里的鱼通通捕到船上",viewpoint:"天地否卦",sentence:"\n          初六，拔茅茹，以其汇，贞吉，亨。\n          六二，包承，小人吉；大人否，亨。\n          六三，包羞。\n          九四，有命无咎，畴离祉。\n          九五，休否，大人吉；其亡其亡，系于苞桑。\n          上九，倾否；先否后喜。\n        ",translation:"\n          初六，拔起一把茅草，只见它们的根连在一起，物以类聚，找它们时要以其种类来识别；结果是吉祥的，亨通。\n          六二，阿谀奉承有权势的人，小人因此获得吉祥；德高望重的大人物否定了阿谀奉承，则是吉利的。\n          六三，由于受纵容而胡作非为，终于召致羞辱。\n          九四，奉行天命，替天行道，开通闭塞，没有灾祸，大家互相依附都可以获得福分。\n          九五，时世闭塞不通的局面将要停止，德高势隆的大人物可以获得吉祥；居安思危，常常以“不久将要灭亡，不久将要灭亡”，这样的警句来提醒自己，才能像系结在一大片丛生的桑树上那样牢固，安然无事。\n          上九，时世闭塞不通的局面将要改变，发生了天翻地覆的变化；起初闭塞不通，后来顺畅通达，大家欢喜高兴。\n        "},{id:5,point:{x:211,y:24},name:"树叶",brief:"道敬节使",extend:"吴道子+镜子+接住+石头",association:"吴道子在树叶上画了一面镜子，手伸进去，接住了一块石头。",viewpoint:"风地观卦",sentence:"\n          初六，童观，小人无咎，君子吝。\n          六二，闚观，利女贞。\n          六三，观我生，进退。\n          六四，观国之光，利用宾于王。\n          九五，观我生，君子无咎。\n          上九，观其生，君子无咎。\n        ",translation:"\n          初六，像幼稚的儿童一样观察景物，这对无知的庶民来说，不会有害处，但对担任教化重任的君子来说，就未免有所憾惜。\n          六二，由门缝中偷观景物，有利于妇女保持节操，坚持正道。\n          六三，对照高尚的道德标准来省察自己的言行，审时度势，小心谨慎地决定进退。\n          六四，瞻仰一个国家的文治武功，有利于成为君王的宾客和辅佐。\n          九五，对照高尚的道德标准省察自己的言行，不断地完善自己，君子就不会有祸患。\n          上九，君子时刻瞻仰君主的德行和作为，并按照君主的德行和作为行事，这样才不会有祸患。\n        "},{id:6,point:{x:233,y:88},name:"柱子",brief:"入谨泛行",extend:"刘南如+镜子+饭团+星星",association:"刘南如坐在屋顶，从镜子中取出饭团仍象天空这巨大的棋盘，变成一颗白色的星星",viewpoint:"山地剥挂",sentence:"\n          初六，剥床以足，蔑，贞凶。\n          六二，剥床以辨，蔑，贞凶。\n          六三，剥，无咎。\n          六四，剥床以肤，凶。\n          六五，贯鱼，以宫人宠，无不利。\n          上九，硕果不食，君子得舆，小人剥庐。\n        ",translation:"\n          初六，剥落床体先由床的最下方床腿部位开始，整个床腿都损坏了，结果必然凶险。\n          六二，床腿剥掉后，又开始剥落床头，以至于整个床头都剥落了，结果必然凶险。\n          六三，虽被剥落，却没有什么灾祸。\n          六四，床头剥落完了，又开始剥落床面，这样必然会有凶险发生。\n          六五，鱼贯而入，像率领内宫之人顺承君主那样得到宠爱，就不会有什么不利的情况发生。\n          上九，硕大的果实不曾被摘取吃掉，君子若能摘食，则如同坐上大车，受到百姓拥戴；如果被小人摘食，则必然招致破家之灾。\n        "},{id:7,point:{x:308,y:125},name:"水塘",brief:"贤事与虽",extend:"李修贤+石头+鱼塘+水",association:"李修贤坐在屋檐上，把石头扔进鱼塘里，水花溅了他一身",viewpoint:"火地晋卦",sentence:"\n          初六，晋如摧如，贞吉；罔孚，裕无咎。\n          六二，晋如愁如，贞吉；受兹介福，于其王母。\n          六三，众允，悔亡。\n          九四，晋如鼫鼠，贞厉。\n          六五，悔亡，失得勿恤；往吉，无不利。\n          上九，晋其角，维用伐邑，厉右，无咎；贞吝。\n        ",translation:"\n          初六，刚开始前进就遇到了障碍和阻拦，但是只要能够坚守正道，始终如一，就一定会吉祥如意。由于它还没有树立起自己的威望，所以能够不受约束地去处理问题，而不必担心会有什么过失。\n          六二，前进时充满忧愁思虑，但是如果能坚守正道，始终如一，将会吉祥如意。而且会获得极大的恩惠和福泽，是高高在上的王母所赐给他的。\n          六三，它的所作所为已经得到了众人的认可和赞同，努力进取，悔恨将会消失。\n          九四，向上迈进像那既贪婪又怕人，而且没有什么专长的梧鼠一样，即使能够严守自己的本分，也免不了灾祸。\n          六五，悔恨已经消失，也有不着考虑得失的问题。只要勇往直前，就会吉祥如意，所有的一切都变得是那样的顺利。\n          上九，向前迈进似乎已经达到了顶点，就像到达兽角尖上一样，盛大的气象已不复存在了。只有像攻打城池那样，建立新的功勋，或许可以避免灾难转为吉祥；而且一旦这样做了，将不会产生过失。但即使如此，它以后的发展趋势也只能是越来越差。\n        "},{id:8,point:{x:263,y:162},name:"石块",brief:"重忠友过",extend:"宋仲基+闹钟+油+锅",association:"阁楼上，宋仲基拿出闹钟，挤出一些油倒进锅里",viewpoint:"火天大有卦",sentence:"\n          初九，无交害，匪咎；艰则无咎。\n          九二，大车以载，有攸往，无咎。\n          九三，公用亨于天子，小人弗克。\n          九四，匪其彭，无咎。\n          六五，厥孚交加，威如，吉。\n          上九，自天佑之，吉无不利。\n        ",translation:"\n          初九，不互相来往，也不彼此伤害，没有什么祸患；要牢记过去的艰难困苦，才能免于引起祸患。\n          九二，用大车装载着财物，送到前面的地方，必然没有什么祸患。\n          九三，王公前来朝贺，向天子贡献礼品并致以敬意，小人不能担任如此重要的职务。\n          九四，虽然家财万贯，但不过分聚敛财物，就不会发生灾祸。\n          六五，以诚实守信的准则对外交往，对上尊敬，对下怀柔，必然增加个人的威信，是吉祥的。\n          上九，上天保佑有德之人，赐福于己，吉祥，无往不利。\n        "}]},{word:"乎",swjz:"乎，会意字。从光省(表示声音向外越扬)，从于省(表示舒气)，会呼唤之意。",chapter:"兑宫"},{word:"者",swjz:"者，会意字。从木(像火烧木)，从甘(表示嘴里含着食物)，会烹煮之意。",chapter:"离宫"},{word:"也",swjz:"也，象形字。字形像蛇。",chapter:"震宫"},{word:"而",swjz:"而，象形字。字形像胡须。",chapter:"巽宫"},{word:"已",swjz:"已，象形字。字形像胎儿。",chapter:"坎宫"},{word:"焉",swjz:"焉，象形字。字形像鸟。",chapter:"艮宫"},{word:"哉",swjz:"哉，形声字。从口，从𢦔(才表声)，会感叹之意",chapter:"坤宫"}],4]],["静夜诗",[[{word:"床",swjz:"床，从爿(pán)，从木，会树木制成的片状物之意",chapter:"学而",image:"https://img2.baidu.com/it/u=3428201346,291982590&fm=253&fmt=auto&app=138&f=JPEG?w=755&h=500",imagenations:[{label:"人物",value:"闯王"},{label:"地点",value:"草坪 苏州园林 园博园 森林公园"},{label:"物品",value:"床 床板 席梦思 睡袋 床头柜 床头灯 窗户"},{label:"武器",value:"手枪 弓箭"},{label:"动作",value:"躺 闯 开窗 哭"}],piles:[{id:1,point:{x:73,y:127},name:"井盖",brief:"学有人",extend:"小雪+游戏+人头",association:"小雪坐在井盖上玩游戏，接连送了5个人头",viewpoint:"如何应对人生中的一切痛苦",sentence:"\n          子曰：“学而时习之，不亦说乎？\n          有朋自远方来，不亦乐乎？\n          人不知而不愠，不亦君子乎？\n        ",translation:"\n          孔子说：“学到了东西，在适当的时机践行印证，不是很愉快吗?\n          有远道而来求教的人，带着他们各自的问题和经验来切磋交流，不是很令人高兴的吗?\n          受教的人没有听懂，我也不怨恨、恼怒，不也是君子的风度吗?”\n        ",book:"《刻意练习》《终身成长》",gua:"\n          《兑卦·大象》：“君子以朋友讲习。”\n          《蒙卦·卦辞》：“匪我求童蒙，童蒙求我。”\n        "},{id:2,point:{x:28,y:108},name:"草坪",brief:"其不君孝",extend:"琪琪+步枪+细菌+学校",association:"琪琪趴在草坪上，瞄准学校，用步枪发射细菌，学校被封了",viewpoint:"“微习惯”有多重要",sentence:"\n          有子曰：“其为人也孝弟，而好犯上者，鲜矣；\n          不好犯上，而好作乱者，未之有也。\n          君子务本，本立而道生。\n          孝弟也者，其为仁之本与！”\n        ",translation:"\n          有若说：“一个人能孝顺父母与尊敬兄长，却喜欢冒犯上司的，那是很少有的。\n          不喜欢冒犯上司，却喜欢造反作乱的，那是不曾有过的。\n          君子做事一定要抓住根本，即孝悌，即家庭伦理，当一个人能够抓住家庭伦理的时候，人生正途就会随之展现开来。\n          孝顺父母与尊敬兄长，是一个人行仁的根本啊！”\n        ",book:"《原生家庭》《掌控习惯》",gua:"\n        《家人卦·大象》：“君子以言有物而行有恒。”\n        《系辞传》：“复，德之本也。”\n        "},{id:3,point:{x:28,y:61},name:"矮树",brief:"巧",extend:"巧克力",association:"矮树上长满了巧克力",viewpoint:"如何从面部表情识人",sentence:"\n          子曰：“巧言令色，鲜矣仁！”\n        ",translation:"\n          孔子说：“一个人如果花言巧语、油嘴滑舌，表情极其丰富、讨人欢喜，这种人八成不会太好，缺乏真实的情感。”\n        ",book:"《演讲的力量》《高效演讲》《关键对话》",gua:"\n        《说卦传·兑卦》：“兑为泽、为少女、为巫、为口舌、为毁折、为附决。”\n        《杂卦传·贲卦》：“贲，无色也。”\n        《否卦·六二》：“包承，小人吉；大人否，亨。”\n        "},{id:4,point:{x:9,y:13},name:"大树",brief:"吾为与传",extend:"武天老师+渭水+鱼+船",association:"武天老师站在大树下，一招龟派气功，将渭水里的鱼通通捕到船上",viewpoint:"批判性思维的最高境界",sentence:"\n          曾子曰：“吾日三省吾身。\n          为人谋而不忠乎？\n          与朋友交而不信乎？\n          传不习乎？”\n        ",translation:"\n          曾参说：“我每天拿这三件事来多次反省自己：\n          替别人办事，有没有尽心尽力呢？\n          与朋友互动来往，有没有不守信的地方呢？\n          传授给学生道理，有没有先践行印证呢？”\n        ",book:"《思辨与立场》《传习录》",gua:"\n        《中孚卦·彖传》：“豚鱼吉，信及豚鱼也。”\n        《履传·上九》：“视履考祥，其旋元吉。”\n        "},{id:5,point:{x:52,y:16},name:"树叶",brief:"道敬节使",extend:"吴道子+镜子+接住+石头",association:"吴道子在树叶上画了一面镜子，手伸进去，接住了一块石头。",viewpoint:"带着敬畏心工作，怀着同理心管理人",sentence:"\n          子曰：“道千乘之国，敬事而信，节用而爱人，使民以时。”\n        ",translation:"\n          孔子说：“治理有一千辆兵车的国家，认真办理国家大事而又恪守信用，节约财政开支并能爱护官吏臣僚，役使百姓而不耽误农时。”\n        ",book:"《扫除道》《匠人精神》《东京传》《人性中的善良天使》",gua:"\n        《节卦·彖传》：“节以制度，不伤财，不害民。”\n        《比卦·九五》：“显比，王用三驱，失前禽，邑人不诫，吉。”\n        "},{id:6,point:{x:99,y:26},name:"屋顶",brief:"入谨泛行",extend:"刘南如+镜子+饭团+星星",association:"刘南如坐在屋顶，从镜子中取出饭团仍象天空这巨大的棋盘，变成一颗白色的星星",viewpoint:"学习的最佳路径",sentence:"\n          子曰：“弟子入则孝，出则悌，谨而信，泛爱众，而亲仁。行有余力，则以学文。”\n        ",translation:"\n          孔子说：“\n          学生在家要孝顺父母，\n          出门在外与朋友坦诚相待，\n          行为谨慎，说话能够守信，\n          广泛关爱众人进而能亲近仁德之人。\n          以上这些都做得不错了，就去学习经天纶地的学问。”\n        ",book:"《人生只有一件事》《自控力》",gua:"\n        《乾卦·文言传》：“庸言之信，庸行之谨，闲邪存其诚，善世而不伐，德博而化。”\n        《乾卦·九二·小象》：“见龙在田，德施普也。”\n        《贲卦·彖传》：“刚柔交错，天文也；文明以止，人文也。观乎天文，以察时变；观乎人文，以化成天下。”\n        "},{id:7,point:{x:154,y:22},name:"屋檐",brief:"贤事与虽",extend:"李修贤+石头+鱼塘+水",association:"李修贤坐在屋檐上，把石头扔进鱼塘里，水花溅了他一身",viewpoint:"别沉迷于外在的美好",sentence:"\n          子夏曰：“贤贤易色；事父母能竭其力；事君能致其身；与朋友交，言而有信。虽曰未学，吾必谓之学矣！”\n        ",translation:"\n          子夏说：“对妻子，重视品德，看轻容貌；\n          事奉父母，能够竭尽全力；\n          对待君主，能够有奉献精神；\n          与朋友交往，能够守信用。\n          这样的人，即使说他没有学过，我一定称他已经学习过了。”\n        ",book:"《皮囊》《大学的终结》",gua:"\n        《离卦·初九》：“履错然，敬之，无咎。”\n        《贲卦·上九》：“白贲，无咎。”\n        "},{id:8,point:{x:147,y:51},name:"阁楼",brief:"重忠友过",extend:"宋仲基+闹钟+油+锅",association:"阁楼上，宋仲基拿出闹钟，挤出一些油倒进锅里",viewpoint:"端庄和假正经只有一线之隔",sentence:"\n          子曰：“君子不重则不威，学则不固。主忠信。无友不如己者。过则勿惮改。”\n        ",translation:"\n          孔子说：“君子不自重就没有威信，学习的知识也不会内化。\n          把忠信作为主导自己做事做人的原则。\n          没有任何我交往的对象是不如我的，永远都可以从他们身上学到东西。\n          有了过错，就勇敢改正。”\n        ",book:"《苏东坡传》《终身成长》",gua:"\n        《大有卦·六五》：“厥孚交如，威如，吉。”\n        《乾卦·九三》：“君子终日乾乾，夕惕若，厉，无咎。”\n        "},{id:9,point:{x:153,y:76},name:"围墙",brief:"慎民",extend:"王胜+器皿",association:"王胜躲在围墙下，拿出器皿，取出手枪瞄准狙击",viewpoint:"如何看待自己的过去和未来",sentence:"\n          曾子曰：“慎终追远，民德归厚矣！”\n        ",translation:"\n          曾子说：“谨慎地处理父母的临终之事，念情思恩，虔诚祭祀，\n          这样社会风气就回归淳厚了。”\n        ",book:"《穿越死亡》《大历史》",gua:"\n        《蛊卦·初六》：“干父之蛊，有子，考无咎，厉，终吉。”\n        《谦卦·彖传》：“天道亏盈而益谦，地道变盈而流谦，鬼神害盈而福谦，人道恶盈而好谦。”\n        "},{id:10,point:{x:157,y:92},name:"栏杆",brief:"邦政温求",extend:"肖邦+针+温泉+皮球",association:"肖邦在栏杆旁弹奏夜曲，瞬间化为万根针，深入温泉，扎破皮球",viewpoint:"每天都应当做好正向积累",sentence:"\n          子禽问于子贡曰：“夫子至于是邦也，必闻其政，求之与？抑与之与？”\n          子贡曰：“夫子温、良、恭、俭、让以得之。夫子之求之也，其诸异乎人之求之与？”\n        ",translation:"\n          子禽向子贡请教：“老师每到一个国家，都能够得知这个国家的政事；\n          这是他自己去问的别人，还是别人主动告诉他的？(背后是不是有团队运作)”\n          子贡说：“老师是靠为人温和、善良、恭敬、节俭、谦逊，才得到这样的机会；\n          老师找机会的方式与别人的方式可能不一样吧？”\n        ",book:"《原则》《月亮与六便士》",gua:"\n        《蒙卦·卦辞》：“匪我求童蒙，童蒙求我。”\n        《谦卦·初六·小象》：“谦谦君子，卑以自牧也。”\n        "},{id:11,point:{x:240,y:31},name:"树枝",brief:"志行改孝",extend:"小智+海星星+钙片+消消乐",association:"小智挂在树枝上，扔出宝贝球，跑出海星星，喷射钙片，做成巨大的消消乐船",viewpoint:"传承好的家风、家训、价值观",sentence:"\n          子曰：“父在观其志，父没观其行。三年无改于父之道，可谓孝矣！”\n        ",translation:"\n          孔子说：“观察一个人，要看他在父亲活着的时候选择什么志向，在父亲过世以后做出什么行为。\n          如果他能三年之久不改变父亲为人处世的作风，就可以称得上孝顺了。”\n        ",book:"《外婆的道歉信》",gua:"\n        《蛊卦·初六》：“干父之蛊，有子，考无咎，厉，终吉。”\n        "},{id:12,point:{x:254,y:125},name:"湖面",brief:"礼先有",extend:"小李+线+柚子树",association:"小李在湖面，以一招体术，顺着线翻山柚子树",viewpoint:"“以和为贵”绝对不是和稀泥",sentence:"\n          有子曰：“礼之用，和为贵。\n          先王之道，斯为美，小大由之。\n          有所不行，知和而和，不以礼节之，亦不可行也。”\n        ",translation:"\n          有若说：“礼的功用，在于使人的关系和谐最为可贵。\n          以前的圣明君主治理国家就是以这样为美的，他们做事，无论事大事小，都按这个原则去做。\n          遇到行不通时，如果仅仅为了达到和谐的目的，而不用礼来节制的话，也还是行不通的。”\n        ",book:"《解忧杂货店》《王尔德童话》",gua:"\n        《系辞传》：“履和而至，履以和行。”\n        《节卦·大象》：“君子以制数度，议德行。”\n        "},{id:13,point:{x:247,y:157},name:"石头",brief:"信恭因",extend:"李信+弓箭+赢",association:"李信站在石头上拉开逐日之弓，射穿敌方的塔，赢了",viewpoint:"无原则守信是愚，过分恭敬是失礼",sentence:"\n          有子曰：“信近于义，言可复也。恭近于礼，远耻辱也。因不失其亲，亦可宗也。”\n        ",translation:"\n          有若说：“与人约定守信，尽量合乎正当性，说的话才能实践。\n          待人谦恭，尽量合乎礼节，就远离耻辱了。\n          继承过去的东西，尽量有所创新(亲通新)，这样才可以效法。”\n        ",book:"《这世界很好，但你也不差》《断舍离》",gua:"\n        《谦卦·彖传》：“卑而不可逾，君子之终也。”\n        《系辞传》：“富有之谓大业，日新之谓盛德。”\n        "},{id:14,point:{x:173,y:183},name:"倒影",brief:"食居敏就",extend:"市丸银+橘子+鸣人+九",association:"市丸银从倒影里钻出来，将橘子扔给岸边鸣人，鸣人一连吃了九个",viewpoint:"当我们贫穷时，如何自在地生活",sentence:"\n          子曰：“君子食无求饱，居无求安，敏于事而慎于言，就有道而正焉，可谓好学也已。”\n        ",translation:"\n          孔子说：“君子饮食上不求饱足华美，\n          居住上不求安逸舒适，\n          对待事情敏锐进而能说话谨慎，\n          永远主动地向大德高手请教、指正自己。\n          这就可以称得上好学了。\n        ",book:"《瓦尔登湖》《月亮与六便士》",gua:"\n        《颐卦·大象》：“君子以慎言语，节饮食。”\n        《系辞传》：“寂然不动，感而遂通天下之故。”\n        "},{id:15,point:{x:103,y:168},name:"水草",brief:"贫富诗告",extend:"林品如+斧头+石头+糕点",association:"林品如从水草里拿斧头劈开石头泄气，顺便吃了糕点",viewpoint:"最高级的金钱观",sentence:"\n          子贡曰：“贫而无谄，富而无骄，何如？”\n          子曰：“可也；未若贫而乐道，富而好礼者也。”\n          子贡曰：“《诗》云：‘如切如磋，如琢如磨。’其斯之谓与？”\n          子曰：“赐也，始可与言《诗》已矣！告诸往而知来者。”\n        ",translation:"\n          子贡说：“贫穷而不谄媚，富有而不傲慢，这样的表现如何？”\n          孔子说：““这样已经很不错了。但是比不上贫穷能乐于行道，富有能崇尚礼仪。”\n          子贡说：“《诗经》上说：‘就像修整骨角与玉石，要不断切磋琢磨，精益求精。’这就是您所说的意思吧？”\n          孔子说：“赐呀，现在可以与你讨论《诗经》了！告诉你一件事，你已经可以自行发挥，领悟另一件事了。”\n        ",book:"《精进》《心流》",gua:"\n        《乾卦·大象》：“天行健，君子以自强不息。”\n        《恒卦·九三》：“不恒其德，或承之羞。”\n        "},{id:16,point:{x:26,y:140},name:"地标",brief:"患",extend:"李寻欢",association:"李寻欢站在地标上，用飞刀打碎了正在玩游戏的小雪的手机",viewpoint:"关注影响圈以内的事情",sentence:"\n          子曰：“不患人之不己知，患不知人也。”\n        ",translation:"\n          孔子说：“不要担心别人不真正了解自己，需要担心的是不真正了解别人。”\n        ",book:"《次第花开》",gua:"\n         《文言传·乾卦·初九》：“潜龙勿用，何谓也？遁世无闷，不见是而无闷。”\n        "}]},{word:"前",swjz:"从爿(pán)，从木，会树木制成的片状物之意，即床",chapter:"为政",piles:[{point:"床头",association:"床头偷偷学习",sentence:"学而实习之",translation:"学习经常复习"},{point:"床",association:"床上坐着君子",sentence:"君子务本",translation:"君子保持本性"}],image:"https://img1.baidu.com/it/u=1693337140,2894727728&fm=253&fmt=auto&app=138&f=JPEG?w=667&h=500"},{word:"明"},{word:"月"},{word:"光"},{word:"疑"},{word:"是"},{word:"地"},{word:"上"},{word:"霜"},{word:"举"},{word:"头"},{word:"望"},{word:"明"},{word:"月"},{word:"低"},{word:"头"},{word:"思"},{word:"故"},{word:"乡"}],5]]]),r={name:"Memory",data:function(){return{poem:"虚词"}},computed:{list:function(){return i.get(this.poem)[0]},cols:function(){return i.get(this.poem)[1]}},created:function(){},methods:{goWord:function(t){this.$router.push({path:"/memory/word",query:{chapter:JSON.stringify(t)}})}}};n("11b8"),n=n("cba8"),n=Object(n.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Home"},[n("van-nav-bar",{attrs:{title:t.poem,"left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),n("section",{staticClass:"px-5"},[n("van-radio-group",{staticClass:"mt-4",attrs:{direction:"horizontal"},model:{value:t.poem,callback:function(e){t.poem=e},expression:"poem"}},[n("van-radio",{attrs:{name:"虚词"}},[t._v("易经")]),n("van-radio",{attrs:{name:"静夜诗"}},[t._v("论语")])],1),n("ul",{class:["grid","grid-cols-"+t.cols,,"gap-2","mt-4"]},t._l(t.list,(function(e,i){return n("li",{key:e.word+i,on:{click:function(n){return t.goWord(e)}}},[t._v(" "+t._s(e.word)+" ")])})),0)],1)],1)}),[],!1,null,"6fe73d16",null);e.default=n.exports},"513f":function(t,e,n){n=n("4938").match(/AppleWebKit\/(\d+)\./),t.exports=!!n&&+n[1]},5944:function(t,e,n){"use strict";n("016b")},6404:function(t,e,n){},"6a6e":function(t,e,n){"use strict";n.r(e),n("9a2f"),n("77fa"),n("2ce8"),n("42ca");var i=n("6664"),r=n.n(i);n("fb1a"),i={name:"Word",computed:{chapter:function(){return JSON.parse(this.$route.query.chapter)},spell:function(){return r.a.spell(this.chapter.word)},homophonics:function(){var t=this;return[1,2,3,4].map((function(e){return r.a.spellToWord(t.spell+e).split("").join(" ")}))}},mounted:function(){r.a.draw(this.chapter.word,{el:"#draw",type:r.a.draw.TYPE.ANIMATION,animation:{autoAnimate:!0}})},methods:{goPile:function(){this.$router.push({path:"/memory/pile",query:this.$route.query})}}},n("ec3e"),n=n("cba8"),n=Object(n.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Word"},[n("van-nav-bar",{attrs:{title:t.chapter.word,"left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),n("section",{staticClass:"px-5"},[n("div",{staticClass:"Word-font flex justify-between mt-5"},[n("p",{staticClass:"Word-dz"},[t._v(t._s(t.chapter.word))]),n("p",{staticClass:"Word-xz"},[t._v(t._s(t.chapter.word))]),n("p",{staticClass:"Word-ls"},[t._v(t._s(t.chapter.word))]),n("p",{attrs:{id:"draw"}}),n("img",{attrs:{src:t.chapter.image},on:{click:t.goPile}})]),n("p",{staticClass:"mt-2 text-gray-400 text-xs"},[t._v(t._s(t.chapter.swjz))]),n("dl",{staticClass:"mt-5"},[n("dt",[t._v(t._s(t.spell))]),t._l(t.homophonics,(function(e){return n("dd",{key:e,staticClass:"text-gray-400 text-xs"},[t._v(" "+t._s(e)+" ")])}))],2),n("dl",{staticClass:"mt-5"},[n("dt",[t._v("想象")]),t._l(t.chapter.imagenations,(function(e){return n("dd",{key:e.label,staticClass:"text-gray-400 text-ms"},[t._v(" "+t._s(e.label)+": "+t._s(e.value)+" ")])}))],2)])],1)}),[],!1,null,"16e01c38",null);e.default=n.exports},7111:function(t,e,n){"use strict";n.r(e);var i={name:"Knowledge",computed:{pile:function(){return JSON.parse(this.$route.query.pile)}},methods:{}};n=n("cba8"),n=Object(n.a)(i,(function(){var t=this,e=t.$createElement;e=t._self._c||e;return e("div",[e("van-nav-bar",{attrs:{title:t.pile.name,"left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),e("section",{staticClass:"px-5 relative"},[e("p",{staticClass:"mt-5"},[t._v(t._s(t.pile.brief))]),e("p",{staticClass:"text-gray-400 text-xs"},[t._v(t._s(t.pile.extend))]),e("p",{staticClass:"text-gray-400 text-xs"},[t._v(t._s(t.pile.association))]),e("p",{staticClass:"mt-10 font-bold"},[t._v(t._s(t.pile.viewpoint))]),e("p",{staticClass:"mt-2 whitespace-pre-line text-justify"},[t._v(" "+t._s(t.pile.sentence.trim())+" ")]),t.pile.translation?e("p",{staticClass:"text-gray-400 text-xs mt-1 whitespace-pre-line text-justify"},[t._v(" "+t._s(t.pile.translation.trim())+" ")]):t._e(),t.pile.book||t.pile.gua?e("dl",{staticClass:"mt-5"},[e("dt",[t._v("关联")]),t.pile.book?e("dd",{staticClass:"text-gray-400 text-xs mt-2"},[t._v(" 书籍："+t._s(t.pile.book)+" ")]):t._e(),t.pile.gua?e("dd",{staticClass:"text-gray-400 text-xs mt-1"},[t._v(" 卦象："+t._s(t.pile.gua)+" ")]):t._e()]):t._e()])],1)}),[],!1,null,null,null);e.default=n.exports},ac9e:function(t,e,n){"use strict";function i(){return Array(10).fill("").map((function(){return{feature:"",knowledge:"",memory:""}}))}n.r(e),n("9a2f"),n("af75"),n("7141"),n("e157"),n("f35b"),n("2ce8"),n("792c"),n("7241");var r=n("e9cc"),o=n.n(r);r={data:function(){return{tags:["周易","道德经","论语"],currTag:"周易",autoplay:0,cacheData:{},images:[]}},created:function(){this.$bus.$off("global.rightClick").$on("global.rightClick",this.save)},mounted:function(){this.init()},watch:{currTag:function(){this.undateImages()},cacheData:function(){this.undateImages()},maxLen:function(){return this.images.length}},methods:{init:function(){var t=this,e=this;o.a.getItem("JI_YI__palace").then((function(n){if(n)e.cacheData=n||{};else try{t.api.readFile({path:"fs://jiyi.json"},(function(t,n){t.status&&(t=JSON.parse(t.data||"{}"),e.cacheData=t)}))}catch(n){e.$toast({msg:n,location:"middle"})}}))},undateImages:function(){this.cacheData[this.currTag]&&0<this.cacheData[this.currTag].length?this.images=this.cacheData[this.currTag]:this.images=[{url:"https://img01.yzcdn.cn/vant/apple-1.jpg",points:i(),name:"1"}]},addPicture:function(){var e=this;try{this.api.getPicture({sourceType:"album",encodingType:"jpg",mediaValue:"pic",destinationType:"base64",allowEdit:!0,quality:50,targetWidth:800,saveToPhotoAlbum:!1},(function(t,n){t?(e.images.push({name:e.maxLen,url:t.base64Data,points:i()}),e.toUpdate("添加成功")):alert(JSON.stringify(n))}))}catch(t){this.$toast({msg:t,location:"middle"})}},removePicture:function(t){if(1===this.images.length)return this.$toast({msg:"最后一张图片无法删除",location:"middle"});this.images.splice(t,1),this.toUpdate("删除成功")},preview:function(t){this.$ImagePreview({images:this.images.map((function(t){return t.url})),startPosition:t})},sortPictures:function(){this.images=this.images.sort((function(t,e){return t.name.replace(/(\d+).*/,"$1")-e.name.replace(/(\d+).*/,"$1")})),this.toUpdate("排序成功")},toUpdate:function(t){var e=this;return this.cacheData[this.currTag]=this.images,o.a.setItem("JI_YI__palace",this.cacheData).then((function(t){})).then((function(){"string"==typeof t&&t&&e.$toast({msg:t,location:"middle"})}))},save:function(){var e=this;if(0===this.images.length)return e.$toast({msg:"暂无数据",location:"middle"});try{this.api.writeFile({path:"fs://jiyi.json",data:JSON.stringify(e.cacheData)},(function(t,n){t.status?e.$toast({msg:"保存成功",location:"middle"}):e.$toast({msg:n.msg,location:"middle"})}))}catch(t){e.$toast({msg:t,location:"middle"})}}}},n("37cd"),n=n("cba8"),n=Object(n.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Palace"},[n("div",{staticClass:"Palace-tags pd-20"},t._l(t.tags,(function(e,i){return n("van-tag",{key:i,attrs:{plain:t.currTag!==e,type:"primary",size:"large"},on:{click:function(n){t.currTag=e}}},[t._v(t._s(e))])})),1),n("van-swipe",{attrs:{"show-indicators":!1,autoplay:t.autoplay}},t._l(t.images,(function(e,i){return n("van-swipe-item",{key:i},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.url,expression:"image.url"}],attrs:{width:"100%"},on:{click:function(e){return t.preview(i)}}}),n("div",{staticClass:"Palace-option pd-20 flex flex-center flex-middle"},[n("van-icon",{attrs:{name:"close",size:24},on:{click:function(e){return t.removePicture(i)}}}),n("van-icon",{attrs:{name:"bar-chart-o",size:24},on:{click:t.sortPictures}}),n("van-field",{attrs:{placeholder:"请输入图片名称"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:function(t){return t.target.blur()}.apply(null,arguments)}},model:{value:e.name,callback:function(n){t.$set(e,"name",n)},expression:"image.name"}}),0===t.autoplay?n("van-icon",{attrs:{name:"play-circle-o",size:24},on:{click:function(e){t.autoplay=2e3}}}):t._e(),0<t.autoplay?n("van-icon",{attrs:{name:"stop-circle-o",size:24},on:{click:function(e){t.autoplay=0}}}):t._e(),n("van-icon",{attrs:{name:"add-o",size:24},on:{click:t.addPicture}})],1),n("van-tabs",{attrs:{swipeable:""}},t._l(e.points,(function(i,r){return n("van-tab",{key:r,attrs:{title:"地点"+(r+1)}},[n("van-field",{attrs:{label:"特征点","label-width":"48",placeholder:"请输入特征点",rows:"1",autosize:"",type:"textarea"},on:{change:t.toUpdate},model:{value:e.points[r].feature,callback:function(n){t.$set(e.points[r],"feature",n)},expression:"image.points[index].feature"}}),n("van-field",{attrs:{label:"知识点","label-width":"48",placeholder:"请输入知识点",rows:"1",autosize:"",type:"textarea"},on:{change:t.toUpdate},model:{value:e.points[r].knowledge,callback:function(n){t.$set(e.points[r],"knowledge",n)},expression:"image.points[index].knowledge"}}),n("van-field",{attrs:{label:"关联点","label-width":"48",placeholder:"请输入关联记忆",rows:"1",autosize:"",type:"textarea"},on:{change:t.toUpdate},model:{value:e.points[r].memory,callback:function(n){t.$set(e.points[r],"memory",n)},expression:"image.points[index].memory"}})],1)})),1)],1)})),1)],1)}),[],!1,null,"10353434",null);e.default=n.exports},ad57:function(t,e,n){n=n("4938").match(/firefox\/(\d+)/i),t.exports=!!n&&+n[1]},c624:function(t,e,n){"use strict";n.r(e),n("9a2f"),n("7141");var i=n("730a"),r={name:"Pile",computed:{chapter:function(){return JSON.parse(this.$route.query.chapter||"{}")}},data:function(){return{curPile:{},points:[]}},created:function(){this.curPile=this.chapter.piles[0]},mounted:function(){this.resetCanvasSize(),this.initCanvans()},methods:{resetCanvasSize:function(){this.$refs.canvas.width=this.$refs.img.width,this.$refs.canvas.height=this.$refs.img.height},initCanvans:function(){function t(){window.abort=i.fabric.util.animate({startValue:5,endValue:15,duration:2e3,onChange:function(t){o.set("radius",t),n.renderAll()},onComplete:t})}var e=this,n=new i.fabric.Canvas("canvas"),r=this.createPolygon(),o=this.createCircle();this.circle=o,t(),n.add(r,o),n.on("mouse:down",(function(t){e.points.push({x:0|t.pointer.x,y:0|t.pointer.y})})),o.on("mousedown",(function(){r.set({strokeWidth:0===r.strokeWidth?3:0})}))},createPolygon:function(){var t=this.chapter.piles.map((function(t){return t.point}));t=new i.fabric.Polyline(t,{fill:"transparent",stroke:"#c2350f",strokeWidth:3});return t.selectable=!1,t},createCircle:function(){var t=new i.fabric.Circle({left:this.chapter.piles[0].point.x,top:this.chapter.piles[0].point.y,originX:"center",originY:"center",radius:10,fill:"rgba(0, 255, 0, 0.8)",transparent:.5});return t.hasBorders=!1,t.hasControls=!1,t},clickHandler:function(t){this.curPile.id===t.id?this.goKnowledge(t):(this.curPile=t,this.circle.set({left:t.point.x,top:t.point.y}))},goKnowledge:function(t){this.$router.push({path:"/memory/knowledge",name:"Knowledge",query:{pile:JSON.stringify(t)}})}}};n("5944"),n=n("cba8"),n=Object(n.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Pile"},[n("van-nav-bar",{attrs:{title:t.chapter.chapter,"left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),n("section",{staticClass:"px-5 relative"},[n("img",{ref:"img",attrs:{src:t.chapter.image}}),n("canvas",{ref:"canvas",attrs:{id:"canvas"}}),n("van-grid",{staticClass:"mt-5",attrs:{square:"","column-num":5}},t._l(t.chapter.piles,(function(e){return n("van-grid-item",{key:e.name,class:{active:t.curPile.id===e.id},attrs:{text:e.name},on:{click:function(n){return t.clickHandler(e)}}})})),1)],1)],1)}),[],!1,null,"24ba67a6",null);e.default=n.exports},dc34:function(t,e,n){n=n("4938"),t.exports=/MSIE|Trident/.test(n)},ec3e:function(t,e,n){"use strict";n("1a49")},f35b:function(t,e,n){"use strict";var i=n("939d"),r=n("6f14"),o=n("3d42"),a=n("3552"),s=n("19eb"),c=n("3e87"),u=n("2c5e"),h=n("6bbf"),l=n("f2cc"),p=n("ad57"),f=n("dc34"),d=n("70cb"),g=n("513f"),m=[],v=r(m.sort),y=r(m.push),w=(n=u((function(){m.sort(void 0)})),r=u((function(){m.sort(null)})),l=l("sort"),!u((function(){if(d)return d<70;if(!(p&&3<p)){if(f)return!0;if(g)return g<603;for(var t,e,n,i="",r=65;r<76;r++){switch(t=String.fromCharCode(r),r){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(n=0;n<47;n++)m.push({k:t+n,v:e})}for(m.sort((function(t,e){return e.v-t.v})),n=0;n<m.length;n++)t=m[n].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}})));i({target:"Array",proto:!0,forced:n||!r||!l||!w},{sort:function(t){void 0!==t&&o(t);var e=a(this);if(w)return void 0===t?v(e):v(e,t);for(var n,i,r=[],u=s(e),l=0;l<u;l++)l in e&&y(r,e[l]);for(h(r,(i=t,function(t,e){return void 0===e?-1:void 0===t?1:void 0!==i?+i(t,e)||0:c(t)>c(e)?1:-1})),n=r.length,l=0;l<n;)e[l]=r[l++];for(;l<u;)delete e[l++];return e}})},fb1a:function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e){var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(t,e){!function(){"use strict";function n(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}function i(t){return t&&void 0!==t.length}function r(){}function o(t){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn((function(){var n,i=1===t._state?e.onFulfilled:e.onRejected;if(null!==i){try{n=i(t._value)}catch(n){return void c(e.promise,n)}s(e.promise,n)}else(1===t._state?s:c)(e.promise,t._value)}))):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,u(t);if("function"==typeof n)return h((i=n,r=e,function(){i.apply(r,arguments)}),t)}t._state=1,t._value=e,u(t)}catch(e){c(t,e)}var i,r}function c(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&o._immediateFn((function(){t._handled||o._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function h(t,e){var n=!1;try{t((function(t){n||(n=!0,s(e,t))}),(function(t){n||(n=!0,c(e,t))}))}catch(t){if(n)return;n=!0,c(e,t)}}var l=setTimeout,p=(o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(r);return a(this,new function(e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}(0,e,n)),n},o.prototype.finally=n,o.all=function(t){return new o((function(e,n){if(!i(t))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);for(var o=r.length,a=0;r.length>a;a++)!function t(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return s.call(a,(function(e){t(i,e)}),n)}r[i]=a,0==--o&&e(r)}catch(i){n(i)}}(a,r[a])}))},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o((function(e){e(t)}))},o.reject=function(t){return new o((function(e,n){n(t)}))},o.race=function(t){return new o((function(e,n){if(!i(t))return n(new TypeError("Promise.race accepts an array"));for(var r=0,a=t.length;r<a;r++)o.resolve(t[r]).then(e,n)}))},o._immediateFn="function"==typeof t?function(e){t(e)}:function(t){l(t,0)},o._unhandledRejectionFn=function(t){void 0!==console&&console},function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw Error("unable to locate global object")}());"Promise"in p?p.Promise.prototype.finally||(p.Promise.prototype.finally=n):p.Promise=o}()}).call(this,n(2).setImmediate,n(0))},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(3),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(t,e,n){(function(t,e){!function(t){"use strict";var n,i,r,o,a,s,c,u,h,l;function p(t){delete s[t]}function f(t){if(c)setTimeout(f,0,t);else{var e=s[t];if(e){c=!0;try{var n=e.callback,i=e.args;switch(i.length){case 0:n();break;case 1:n(i[0]);break;case 2:n(i[0],i[1]);break;case 3:n(i[0],i[1],i[2]);break;default:n.apply(void 0,i)}}finally{p(t),c=!1}}}}t.setImmediate||(a=1,c=!(s={}),u=t.document,h=(h=Object.getPrototypeOf&&Object.getPrototypeOf(t))&&h.setTimeout?h:t,l="[object process]"==={}.toString.call(t.process)?function(t){e.nextTick((function(){f(t)}))}:function(){var e,n;if(t.postMessage&&!t.importScripts)return e=!0,n=t.onmessage,t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}()?(r="setImmediate$"+Math.random()+"$",o=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(r)&&f(+e.data.slice(r.length))},t.addEventListener?t.addEventListener("message",o,!1):t.attachEvent("onmessage",o),function(e){t.postMessage(r+e,"*")}):t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){f(t.data)},function(t){i.port2.postMessage(t)}):u&&"onreadystatechange"in u.createElement("script")?(n=u.documentElement,function(t){var e=u.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,n.removeChild(e),e=null},n.appendChild(e)}):function(t){setTimeout(f,0,t)},h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];return s[a]={callback:t,args:e},l(a),a++},h.clearImmediate=p)}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(0),n(4))},function(t,e){var n,i;t=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return(n=setTimeout)(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}var s,c=[],u=!1,h=-1;function l(){u&&s&&(u=!1,s.length?c=s.concat(c):h=-1,c.length&&p())}function p(){if(!u){var t=a(l);u=!0;for(var e=c.length;e;){for(s=c,c=[];++h<e;)s&&s[h].run();h=-1,e=c.length}s=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return(i=clearTimeout)(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function d(){}t.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||u||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=d,t.addListener=d,t.once=d,t.off=d,t.removeListener=d,t.removeAllListeners=d,t.emit=d,t.prependListener=d,t.prependOnceListener=d,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e),n(1),r=i="";var i,r,o=(n={setResourceBase:function(t){r=t},getResourceBase:function(){return r||i||"https://cdn.jsdelivr.net/npm/cnchar-data@latest/draw/"},initResourceFromCnchar:function(t){i=t._.getResourceBase()+"draw/"}}).getResourceBase,a=n.setResourceBase,s=n.initResourceFromCnchar;const c=[];function u(t){c.forEach(e=>{e(t)})}h=[function(t,e,n){(function(e){function n(t){for(var e=Object(t),n=arguments.length,i=Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach((function(t){if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})),e}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=e.performance?function(){return e.performance.now()}:function(){return Date.now()},o=e.requestAnimationFrame||function(t){return setTimeout((function(){return t(r())}),1e3/60)},a=e.cancelAnimationFrame||clearTimeout,s=Object.assign||n,c=0,u=e.navigator&&e.navigator.userAgent||"";u=0<u.indexOf("MSIE ")||0<u.indexOf("Trident/")||0<u.indexOf("Edge/");t.exports={e:n,arrLast:function(t){return t[t.length-1]},assign:s,average:function(t){return t.reduce((function(t,e){return e+t}),0)/t.length},callIfExists:function(t,e){return t&&t(e),e},cancelAnimationFrame:a,colorStringToVals:function(t){var e=t.toUpperCase().trim();if(/^#([A-F0-9]{3}){1,2}$/.test(e))return n=""+(n=3===(n=e.substring(1).split("")).length?[n[0],n[0],n[1],n[1],n[2],n[2]]:n).join(""),{r:parseInt(n.slice(0,2),16),g:parseInt(n.slice(2,4),16),b:parseInt(n.slice(4,6),16),a:1};var n=e.match(/^RGBA?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d*\.?\d+))?\)$/);if(n)return{r:parseInt(n[1],10),g:parseInt(n[2],10),b:parseInt(n[3],10),a:parseFloat(n[4]||1,10)};throw new Error("Invalid color: "+t)},copyAndMergeDeep:function t(e,n){var r,o=s({},e);for(r in n){var a=e[r],c=n[r];a!==c&&(a&&c&&"object"===(void 0===a?"undefined":i(a))&&"object"===(void 0===c?"undefined":i(c))&&!Array.isArray(c)?o[r]=t(a,c):o[r]=c)}return o},counter:function(){return++c},emptyFunc:function(){},inflate:function(t,e){for(var n=t.split("."),i=(t={},t),r=0;r<n.length;r++){var o=r===n.length-1?e:{};i[n[r]]=o,i=o}return t},objRepeat:function(t,e){for(var n={},i=0;i<e;i++)n[i]=t;return n},performanceNow:r,requestAnimationFrame:o,timeout:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(e,n){setTimeout(e,t)}))},trim:function(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")},isMsBrowser:u}}).call(e,n(1))},function(t,e){var n=function(){return this}();try{n=n||Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){function i(t,e){return{x:t.x-e.x,y:t.y-e.y}}function r(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}function o(t,e){return r(i(t,e))}function a(t){var e=10*(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1);return{x:Math.round(e*t.x)/e,y:Math.round(e*t.y)/e}}function s(t){var e=t[0];return t.slice(1).reduce((function(t,n){var i=o(n,e);return e=n,t+i}),0)}function c(t,e,n){return t=i(e,t),n/=r(t),{x:e.x+n*t.x,y:e.y+n*t.y}}function u(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.05,n=t.slice(0,1);return t.slice(1).forEach((function(t){var i=n[n.length-1],r=o(t,i);if(e<r)for(var a=Math.ceil(r/e),s=r/a,u=0;u<a;u++)n.push(c(t,i,-1*s*(u+1)));else n.push(t)})),n}function h(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:30,n=s(t)/(e-1),i=[t[0]],r=f(t),a=t.slice(1),u=0;u<e-2;u++)for(var h=f(i),l=n,p=!1;!p;){var d=o(h,a[0]);d<l?(l-=d,h=a.shift()):(d=c(h,a[0],l-d),i.push(d),p=!0)}return i.push(r),i}function l(t){if(t.length<3)return t;var e=[t[0],t[1]];return t.slice(2).forEach((function(t,n){var r=e.length,o=i(t,e[r-1]);r=i(e[r-1],e[r-2]);o.y*r.x-o.x*r.y==0&&e.pop(),e.push(t)})),e}n=n(0);var p=n.average,f=n.arrLast;t.exports={round:a,equals:function(t,e){return t.x===e.x&&t.y===e.y},distance:o,getPathString:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=a(t[0]),i=(t=t.slice(1),"M "+n.x+" "+n.y);return t.forEach((function(t){t=a(t),i+=" L "+t.x+" "+t.y})),e&&(i+="Z"),i},frechetDist:function(t,e){for(var n=[],i=0;i<t.length;i++){n.push([]);for(var r=0;r<e.length;r++)n[i].push(-1)}return function i(r,a){return-1<n[r][a]||(n[r][a]=0===r&&0===a?o(t[0],e[0]):0<r&&0===a?Math.max(i(r-1,0),o(t[r],e[0])):0===r&&0<a?Math.max(i(0,a-1),o(t[0],e[a])):0<r&&0<a?Math.max(Math.min(i(r-1,a),i(r-1,a-1),i(r,a-1)),o(t[r],e[a])):1/0),n[r][a]}(t.length-1,e.length-1)},length:s,rotate:function(t,e){return t.map((function(t){return{x:Math.cos(e)*t.x-Math.sin(e)*t.y,y:Math.sin(e)*t.x+Math.cos(e)*t.y}}))},subtract:i,extendStart:function(t,e){if(t=l(t),t.length<2)return t;var n=t[1],i=t[0];n=c(n,i,e),i=t.slice(1);return i.unshift(n),i},cosineSimilarity:function(t,e){return(t.x*e.x+t.y*e.y)/r(t)/r(e)},outlineCurve:h,u:c,h:l,subdivideCurve:u,normalizeCurve:function(t){t=h(t);var e={x:p(t.map((function(t){return t.x}))),y:p(t.map((function(t){return t.y})))},n=(t=t.map((function(t){return i(t,e)})),Math.sqrt(p([Math.pow(t[0].x,2)+Math.pow(t[0].y,2),Math.pow(f(t).x,2)+Math.pow(f(t).y,2)])));t=t.map((function(t){return{x:t.x/n,y:t.y/n}}));return u(t)}}},function(t,e,n){(function(e){function n(t,e,n){t.setAttributeNS(null,e,n)}t.exports={createElm:function(t){return e.document.createElementNS("http://www.w3.org/2000/svg",t)},attrs:function(t,e){Object.keys(e).forEach((function(i){return n(t,i,e[i])}))},attr:n,removeElm:function(t){t&&t.parentNode.removeChild(t)},urlIdRef:function(t){var n="";return"url("+(n=e.location&&e.location.href?e.location.href.replace(/#[^#]*$/,""):n)+"#"+t+")"}}}).call(e,n(1))},function(t,e,n){function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e,n){return[new c("character."+t+".strokes",u({opacity:1,displayPortion:1},e.strokes.length),{duration:n,force:!0})]}function o(t,e,n){return[new c("character."+t+".opacity",0,{duration:n,force:!0})].concat(r(t,e,0))}function a(t,e,n){var r=e.strokeNum;e=(e.getLength()+600)/(3*n);return[new c("character."+t,{opacity:1,strokes:i({},r,{displayPortion:0,opacity:1})}),new c("character."+t+".strokes."+r+".displayPortion",1,{duration:e})]}function s(t,e,n,i,s){var h=o(t,e,n);return(h=h.concat(r(t,e,0))).push(new c("character."+t,{opacity:1,strokes:u({opacity:0},e.strokes.length)},{force:!0})),e.strokes.forEach((function(e,n){0<n&&h.push(new c.Delay(s)),h=h.concat(a(t,e,i))})),h}var c=n(5),u=n(0).objRepeat;t.exports={showStrokes:r,showCharacter:function(t,e,n){return[new c("character."+t,{opacity:1,strokes:u({opacity:1,displayPortion:1},e.strokes.length)},{duration:n,force:!0})]},hideCharacter:o,highlightStroke:function(t,e,n){var r=t.strokeNum;t=(t.getLength()+600)/(3*n);return[new c("character.highlight.strokeColor",e),new c("character.highlight",{opacity:1,strokes:i({},r,{displayPortion:0,opacity:0})}),new c("character.highlight.strokes."+r,{displayPortion:1,opacity:1},{duration:t}),new c("character.highlight.strokes."+r+".opacity",0,{duration:t})]},animateCharacter:s,animateCharacterLoop:function(t,e,n,i,r,o){return t=s(t,e,n,i,r),t.push(new c.Delay(o)),t},animateStroke:a,animateSingleStroke:function(t,e,n,i){return[new c("character."+t,(function(n){for(var i=n.character[t],r={opacity:1,strokes:{}},o=0;o<e.strokes.length;o++)r.strokes[o]={opacity:i.opacity*i.strokes[o].opacity};return r}))].concat(a(t,e.strokes[n],i))},showStroke:function(t,e,n){return[new c("character."+t+".strokes."+e,{displayPortion:1,opacity:1},{duration:n,force:!0})]},updateColor:function(t,e,n){return[new c("options."+t,e,{duration:n})]}}},function(t,e,n){n=n(0);var i=n.inflate,r=n.performanceNow,o=n.requestAnimationFrame,a=n.cancelAnimationFrame;function s(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};this.scope=t,this.f=e,this.v=n.duration||0,this.w=n.force,this.k=0,this.C=this.M.bind(this),this.S=null}function c(t){this.v=t,this.j=null,this.P=!1}s.prototype.run=function(t){var e=this;return this.O||this.A(t),0===this.v&&t.updateState(this.O),0===this.v||function t(e,n){for(var i in n)if(n.hasOwnProperty(i)){var r=n[i];i=e[i];if(0<=r){if(r!==i)return}else if(!t(i,r))return}return 1}(t.state,this.O)?Promise.resolve():(this.F=t,this.D=t.state,this.j=r(),this.T=o(this.C),new Promise((function(t){e.I=t})))},s.prototype.pause=function(){null===this.S&&(this.T&&a(this.T),this.S=r())},s.prototype.resume=function(){null!==this.S&&(this.T=o(this.C),this.k+=r()-this.S,this.S=null)},s.prototype.M=function(t){null===this.S&&(1===(t=Math.min(1,(t-this.j-this.k)/this.v))?(this.F.updateState(this.O),this.T=null,this.cancel(this.F)):(t=-Math.cos(t*Math.PI)/2+.5,this.F.updateState(function t(e,n,i){var r,o={};for(r in n){var a=n[r],s=e[r];o[r]=0<=a?i*(a-s)+s:t(s,a,i)}return o}(this.D,this.O,t)),this.T=o(this.C)))},s.prototype.A=function(t){var e=this.f;"function"==typeof this.f&&(e=this.f(t.state)),this.O=i(this.scope,e)},s.prototype.cancel=function(t){this.I&&this.I(),this.I=null,this.T&&a(this.T),this.T=null,this.w&&(this.O||this.A(t),t.updateState(this.O))},c.prototype.pause=function(){var t;this.P||(t=r()-this.j,this.v=Math.max(0,this.v-t),clearTimeout(this.W),this.P=!0)},c.prototype.resume=function(){var t=this;this.P&&(this.j=r(),this.W=setTimeout((function(){return t.cancel()}),this.v),this.P=!1)},c.prototype.run=function(){var t=this,e=new Promise((function(e){t.I=e}));return this.j=r(),this.W=setTimeout((function(){return t.cancel()}),this.v),e},c.prototype.cancel=function(){clearTimeout(this.W),this.I&&this.I(),this.I=!1},s.Delay=c,t.exports=s},function(t,e,n){function i(){}i.prototype.z=function(t){return.999*this.R*(1-t)},i.prototype.H=function(t){var e=t.strokeColor;t=t.radicalColor;return t&&this.L.isInRadical?t:e},t.exports=i},function(t,e,n){(function(e){function n(){}n.prototype.addPointerStartListener=function(t){var e=this;this.node.addEventListener("mousedown",(function(n){t(e.U(n,e._))})),this.node.addEventListener("touchstart",(function(n){t(e.U(n,e.K))}))},n.prototype.addPointerMoveListener=function(t){var e=this;this.node.addEventListener("mousemove",(function(n){t(e.U(n,e._))})),this.node.addEventListener("touchmove",(function(n){t(e.U(n,e.K))}))},n.prototype.addPointerEndListener=function(t){e.document.addEventListener("mouseup",t),e.document.addEventListener("touchend",t)},n.prototype.getBoundingClientRect=function(){return this.node.getBoundingClientRect()},n.prototype.U=function(t,e){var n=this;return{getPoint:function(){return e.call(n,t)},preventDefault:function(){return t.preventDefault()}}},n.prototype._=function(t){var e=this.getBoundingClientRect();return{x:t.clientX-e.left,y:t.clientY-e.top}},n.prototype.K=function(t){var e=this.getBoundingClientRect();return{x:t.touches[0].clientX-e.left,y:t.touches[0].clientY-e.top}},t.exports=n}).call(e,n(1))},function(t,e,n){t.exports={drawPath:function(t,e){t.beginPath();var n=e[0];e=e.slice(1);t.moveTo(n.x,n.y),e.forEach((function(e){t.lineTo(e.x,e.y)})),t.stroke()},pathStringToCanvas:function(t){t=t.split(/(^|\s+)(?=[A-Z])/).filter((function(t){return" "!==t}));var e=[function(t){return t.beginPath()}];return t.forEach((function(t){t=t.split(/\s+/);t=Array.isArray(t)?t:Array.from(t);var n=t[0],i=t.slice(1).map((function(t){return parseFloat(t)}));"M"===n?e.push((function(t){return t.moveTo.apply(t,i)})):"L"===n?e.push((function(t){return t.lineTo.apply(t,i)})):"C"===n?e.push((function(t){return t.bezierCurveTo.apply(t,i)})):"Q"===n&&e.push((function(t){return t.quadraticCurveTo.apply(t,i)}))})),function(t){return e.forEach((function(e){return e(t)}))}}}},function(t,e,n){var i=n(10),r=n(11),o=n(14),a=n(15),s=n(19),c=n(25),u=n(31),h=n(32),l=n(4),p=(n=n(0),n.assign),f=n.callIfExists,d=n.trim,g=n.colorStringToVals,m={charDataLoader:u,onLoadCharDataError:null,onLoadCharDataSuccess:null,showOutline:!0,showCharacter:!0,renderer:"svg",width:null,height:null,padding:20,strokeAnimationSpeed:1,strokeFadeDuration:400,strokeHighlightDuration:200,strokeHighlightSpeed:2,delayBetweenStrokes:1e3,delayBetweenLoops:2e3,strokeColor:"#555",radicalColor:null,highlightColor:"#AAF",outlineColor:"#DDD",drawingColor:"#333",leniency:1,showHintAfterMisses:3,highlightOnComplete:!0,highlightCompleteColor:null,drawingFadeDuration:300,drawingWidth:4,strokeWidth:2,outlineWidth:2,rendererOverride:{}};function v(){var t,e,n;0<arguments.length&&(t=void 0,e={},n=arguments.length<=0?void 0:arguments[0],1<arguments.length&&(e="string"==typeof(arguments.length<=1?void 0:arguments[1])?(t=arguments.length<=1?void 0:arguments[1],(arguments.length<=2?void 0:arguments[2])||{}):arguments.length<=1?void 0:arguments[1]),this.N(n,e),t&&this.setCharacter(t))}v.prototype.showCharacter=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.B.showCharacter=!0,this.G((function(){return t.F.run(l.showCharacter("main",t.V,"number"==typeof e.duration?e.duration:t.B.strokeFadeDuration)).then((function(t){return f(e.onComplete,t)}))}))},v.prototype.hideCharacter=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.B.showCharacter=!1,this.G((function(){return t.F.run(l.hideCharacter("main",t.V,"number"==typeof e.duration?e.duration:t.B.strokeFadeDuration)).then((function(t){return f(e.onComplete,t)}))}))},v.prototype.animateCharacter=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.cancelQuiz(),this.G((function(){return t.F.run(l.animateCharacter("main",t.V,t.B.strokeFadeDuration,t.B.strokeAnimationSpeed,t.B.delayBetweenStrokes)).then((function(t){return f(e.onComplete,t)}))}))},v.prototype.animateStroke=function(t){var e=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.cancelQuiz(),this.G((function(){return e.F.run(l.animateSingleStroke("main",e.V,t,e.B.strokeAnimationSpeed)).then((function(t){return f(n.onComplete,t)}))}))},v.prototype.highlightStroke=function(t){var e=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.G((function(){return e.F.run(l.highlightStroke(e.V.strokes[t],e.B.highlightColor,e.B.strokeHighlightSpeed)).then((function(t){return f(n.onComplete,t)}))}))},v.prototype.loopCharacterAnimation=function(){var t=this;return this.cancelQuiz(),this.G((function(){return t.F.run(l.animateCharacterLoop("main",t.V,t.B.strokeFadeDuration,t.B.strokeAnimationSpeed,t.B.delayBetweenStrokes,t.B.delayBetweenLoops),{loop:!0})}))},v.prototype.pauseAnimation=function(){var t=this;return this.G((function(){return t.F.pauseAll()}))},v.prototype.resumeAnimation=function(){var t=this;return this.G((function(){return t.F.resumeAll()}))},v.prototype.showOutline=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.B.showOutline=!0,this.G((function(){return t.F.run(l.showCharacter("outline",t.V,"number"==typeof e.duration?e.duration:t.B.strokeFadeDuration)).then((function(t){return f(e.onComplete,t)}))}))},v.prototype.hideOutline=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.B.showOutline=!1,this.G((function(){return t.F.run(l.hideCharacter("outline",t.V,"number"==typeof e.duration?e.duration:t.B.strokeFadeDuration)).then((function(t){return f(e.onComplete,t)}))}))},v.prototype.updateColor=function(t,e){var n=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return this.G((function(){var r="number"==typeof i.duration?i.duration:n.B.strokeFadeDuration,o=e;"radicalColor"!==t||e||(o=n.B.strokeColor),o=g(o),n.B[t]=e,o=l.updateColor(t,o,r);return"radicalColor"!==t||e||(o=o.concat(l.updateColor(t,null,0))),n.F.run(o).then((function(t){return f(i.onComplete,t)}))}))},v.prototype.quiz=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.G((function(){t.cancelQuiz(),t.$=new a(t.V,t.F,t.q),t.$.startQuiz(p({},t.B,e))}))},v.prototype.cancelQuiz=function(){this.$&&(this.$.cancel(),this.$=null)},v.prototype.setCharacter=function(t){var e=this;return this.cancelQuiz(),this.J=t,this.Q&&this.Q.destroy(),this.F&&this.F.cancelAll(),this.Q=null,this.Z=this.X.loadCharData(t).then((function(n){var a;e.X.loadingFailed||(e.V=r(t,n),e.q=new o(e.B),a=new e.Y.HanziWriterRenderer(e.V,e.q),e.Q=a,e.F=new i(e.V,e.B,(function(t){a.render(t)})),e.Q.mount(e.target,e.F.state),e.Q.render(e.F.state))})),this.Z},v.prototype.N=function(t,e){var n="canvas"===e.renderer?c:s,i=e.rendererOverride||{};return this.Y={HanziWriterRenderer:i.HanziWriterRenderer||n.HanziWriterRenderer,createRenderTarget:i.createRenderTarget||n.createRenderTarget},this.target=this.Y.createRenderTarget(t,e.width,e.height),this.B=this.tt(e),this.X=new h(this.B),this.it(),this.$=null,this},v.prototype.tt=function(t){var e=p({},m,t);return t.strokeAnimationDuration&&!t.strokeAnimationSpeed&&(e.strokeAnimationSpeed=500/e.strokeAnimationDuration),t.strokeHighlightDuration&&!t.strokeHighlightSpeed&&(e.strokeHighlightSpeed=500/e.strokeHighlightDuration),t.highlightCompleteColor||(e.highlightCompleteColor=e.highlightColor),this.nt(e)},v.prototype.nt=function(t){var e,n;t=p({},t);return t.width&&!t.height?t.height=t.width:t.height&&!t.width?t.width=t.height:t.width||t.height||(n=(e=this.target.getBoundingClientRect()).width,e=e.height,n=Math.min(n,e),t.width=n,t.height=n),t},v.prototype.G=function(t){var e=this;if(this.X.loadingFailed)throw Error("Failed to load character data. Call setCharacter and try again.");return this.Z.then((function(){if(!e.X.loadingFailed)return t()}))},v.prototype.it=function(){var t=this;this.target.addPointerStartListener((function(e){!t.isLoadingCharData&&t.$&&(e.preventDefault(),t.rt("startUserStroke",e.getPoint()))})),this.target.addPointerMoveListener((function(e){!t.isLoadingCharData&&t.$&&(e.preventDefault(),t.rt("continueUserStroke",e.getPoint()))})),this.target.addPointerEndListener((function(){return t.rt("endUserStroke")}))},v.prototype.rt=function(t){var e;if(this.$){for(var n=arguments.length,i=Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(e=this.$)[t].apply(e,i)}},v.create=function(t,e){return t=new v(t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}),t.setCharacter(e),t};var y=null,w=null;v.loadCharacterData=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=void 0;n=y&&w===e?y:new h(p({},m,e));return w=e,(y=n).loadCharData(t)},v.getScalingTransform=function(t,e){return t=new o({width:t,height:e,padding:2<arguments.length&&void 0!==arguments[2]?arguments[2]:0}),{x:t.xOffset,y:t.yOffset,scale:t.scale,transform:d("\n      translate("+t.xOffset+", "+(t.height-t.yOffset)+")\n      scale("+t.scale+", "+-1*t.scale+")\n    ").replace(/\s+/g," ")}},t.exports=v},function(t,e,n){n=n(0);var i=n.copyAndMergeDeep,r=n.colorStringToVals;function o(t,e,n){this.ot=n,this.st=[],this.state={options:{drawingFadeDuration:e.drawingFadeDuration,drawingWidth:e.drawingWidth,drawingColor:r(e.drawingColor),strokeColor:r(e.strokeColor),outlineColor:r(e.outlineColor),radicalColor:r(e.radicalColor||e.strokeColor),highlightColor:r(e.highlightColor)},character:{main:{opacity:e.showCharacter?1:0,strokes:{}},outline:{opacity:e.showOutline?1:0,strokes:{}},highlight:{opacity:1,strokes:{}}},userStrokes:null};for(var i=0;i<t.strokes.length;i++)this.state.character.main.strokes[i]={opacity:1,displayPortion:1},this.state.character.outline.strokes[i]={opacity:1,displayPortion:1},this.state.character.highlight.strokes[i]={opacity:0,displayPortion:1}}o.prototype.updateState=function(t){t=i(this.state,t),this.ot(t,this.state),this.state=t},o.prototype.run=function(t){var e=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.map((function(t){return t.scope})).filter((function(t){return t}));return this.cancelMutations(i),new Promise((function(r){r={et:!0,ut:0,I:r,ht:t,at:n.loop,ct:i},e.st.push(r),e.ft(r)}))},o.prototype.ft=function(t){var e=this;if(t.et){var n=t.ht;if(t.ut>=n.length){if(!t.at)return t.et=!1,this.st=this.st.filter((function(e){return e!==t})),void t.I({canceled:!1});t.ut=0}t.ht[t.ut].run(this).then((function(){t.et&&(t.ut++,e.ft(t))}))}},o.prototype.vt=function(){return this.st.map((function(t){return t.ht[t.ut]}))},o.prototype.pauseAll=function(){this.vt().forEach((function(t){return t.pause()}))},o.prototype.resumeAll=function(){this.vt().forEach((function(t){return t.resume()}))},o.prototype.cancelMutations=function(t){var e=this;this.st.forEach((function(n){n.ct.forEach((function(i){t.forEach((function(t){(0<=i.indexOf(t)||0<=t.indexOf(i))&&e.lt(n)}))}))}))},o.prototype.cancelAll=function(){this.cancelMutations([""])},o.prototype.lt=function(t){t.et=!1;for(var e=t.ut;e<t.ht.length;e++)t.ht[e].cancel(this);t.I&&t.I({canceled:!0}),this.st=this.st.filter((function(e){return e!==t}))},t.exports=o},function(t,e,n){function i(t){return t.strokes.map((function(e,n){var i=t.medians[n].map((function(t){return t=function(t){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var e=t,n=[],i=!0,r=(t=!1,void 0);try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),2!==n.length);i=!0);}catch(e){t=!0,r=e}finally{try{!i&&a.return&&a.return()}finally{if(t)throw r}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")}(t),{x:t[0],y:t[1]}}));return new r(e,i,n,t.radStrokes&&0<=t.radStrokes.indexOf(n))}))}var r=n(12),o=n(13);t.exports=function(t,e){return e=i(e),new o(t,e)}},function(t,e,n){n=n(2);var i=n.subtract,r=n.distance,o=n.length;function a(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];this.path=t,this.points=e,this.strokeNum=n,this.isInRadical=i}a.prototype.getStartingPoint=function(){return this.points[0]},a.prototype.getEndingPoint=function(){return this.points[this.points.length-1]},a.prototype.getLength=function(){return o(this.points)},a.prototype.getVectors=function(){var t=this.points[0];return this.points.slice(1).map((function(e){var n=i(e,t);return t=e,n}))},a.prototype.getDistance=function(t){var e=this.points.map((function(e){return r(e,t)}));return Math.min.apply(Math,e)},a.prototype.getAverageDistance=function(t){var e=this;return t.reduce((function(t,n){return t+e.getDistance(n)}),0)/t.length},t.exports=a},function(t,e,n){t.exports=function(t,e){this.symbol=t,this.strokes=e}},function(t,e,n){var i=[{x:0,y:-124},{x:1024,y:900}];function r(t){this.B=t,this.width=t.width,this.height=t.height,this.dt()}r.prototype.convertExternalPoint=function(t){return{x:(t.x-this.xOffset)/this.scale,y:(this.height-this.yOffset-t.y)/this.scale}},r.prototype.dt=function(){var t=i,e=t[1].x-t[0].x,n=t[1].y-t[0].y,r=this.width-2*this.B.padding,o=this.height-2*this.B.padding;this.scale=Math.min(r/e,o/n),r=this.B.padding+(r-this.scale*e)/2,e=this.B.padding+(o-this.scale*n)/2;this.xOffset=-1*t[0].x*this.scale+r,this.yOffset=-1*t[0].y*this.scale+e},t.exports=r},function(t,e,n){function i(t){return{pathString:h.getPathString(t.externalPoints),points:t.points.map((function(t){return h.round(t)}))}}var r=n(16),o=n(17),a=n(0),s=a.callIfExists,c=a.counter,u=n(18),h=n(2),l=n(4);function p(t,e,n){this.V=t,this.F=e,this.et=!1,this.q=n}p.prototype.startQuiz=function(t){this.et=!0,this.B=t,this.pt=0,this.yt=0,this.wt=0,this.gt=[],this.F.run(u.startQuiz(this.V,t.strokeFadeDuration))},p.prototype.startUserStroke=function(t){var e=this.q.convertExternalPoint(t);if(!this.et)return null;if(this.kt)return this.endUserStroke();var n=c();this.kt=new o(n,e,t),this.F.run(u.startUserStroke(n,e))},p.prototype.continueUserStroke=function(t){var e;this.kt&&(e=this.q.convertExternalPoint(t),this.kt.appendPoint(e,t),e=this.kt.points.slice(0),this.F.run(u.updateUserStroke(this.kt.id,e)))},p.prototype.endUserStroke=function(){var t,e;this.kt&&(this.F.run(u.removeUserStroke(this.kt.id,this.B.drawingFadeDuration)),1!==this.kt.points.length&&(t=this.mt(),e=0<this.F.state.character.outline.opacity,r(this.kt,this.V,this.pt,{isOutlineVisible:e,leniency:this.B.leniency})?this.bt(t):(this.Ct(),this.yt>=this.B.showHintAfterMisses&&this.F.run(u.highlightStroke(t,this.B.highlightColor,this.B.strokeHighlightSpeed)))),this.kt=null)},p.prototype.cancel=function(){this.et=!1,this.kt&&this.F.run(u.removeUserStroke(this.kt.id,this.B.drawingFadeDuration))},p.prototype.bt=function(t){s(this.B.onCorrectStroke,{character:this.V.symbol,strokeNum:this.pt,mistakesOnStroke:this.yt,totalMistakes:this.wt,strokesRemaining:this.V.strokes.length-this.pt-1,drawnPath:i(this.kt)});var e=l.showStroke("main",this.pt,this.B.strokeFadeDuration);this.pt+=1,this.yt=0,this.pt===this.V.strokes.length&&(this.et=!1,s(this.B.onComplete,{character:this.V.symbol,totalMistakes:this.wt}),this.B.highlightOnComplete&&(e=e.concat(u.highlightCompleteChar(this.V,this.B.highlightCompleteColor,2*this.B.strokeHighlightDuration)))),this.F.run(e)},p.prototype.Ct=function(){this.yt+=1,this.wt+=1,s(this.B.onMistake,{character:this.V.symbol,strokeNum:this.pt,mistakesOnStroke:this.yt,totalMistakes:this.wt,strokesRemaining:this.V.strokes.length-this.pt,drawnPath:i(this.kt)})},p.prototype.mt=function(){return this.V.strokes[this.pt]},t.exports=p},function(t,e,n){function i(t,e,n){var i=void 0===(i=n.leniency)?1:i,r=(n=void 0!==(n=n.isOutlineVisible)&&n,e.getAverageDistance(t));if(!(n=r<=350*(n||0<e.strokeNum?.5:1)*i))return{isMatch:!1,avgDist:r};C=t,x=i,v=h((b=e).getStartingPoint(),C[0]),b=h(b.getEndingPoint(),C[C.length-1]);var a,c,m,v,y,w,k,C=v<=250*x&&b<=250*x,x=(v=e,y=[],w=(b=t)[0],b.slice(1).forEach((function(t){y.push(l(t,w)),w=t})),b=y,k=v.getVectors(),v=b.map((function(t){var e=k.map((function(e){return s(e,t)}));return Math.max.apply(Math,e)})),0<o(v)),b=(b=e.points,v=i,a=p(t),c=p(b),m=1/0,g.forEach((function(t){t=u(a,f(c,t)),t<m&&(m=t)})),m<=.4*v);v=e,e=.35<=i*(d(t)+25)/(v.getLength()+25);return{isMatch:n&&C&&x&&b&&e,avgDist:r}}var r=n(0),o=r.average,a=r.assign,s=(r=n(2),r.cosineSimilarity),c=r.equals,u=r.frechetDist,h=r.distance,l=r.subtract,p=r.normalizeCurve,f=r.rotate,d=r.length,g=[Math.PI/16,Math.PI/32,0,-1*Math.PI/32,-1*Math.PI/16];t.exports=function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=function(t){if(t.length<2)return t;var e=[t[0]];return t.slice(1).forEach((function(t){c(t,e[e.length-1])||e.push(t)})),e}(t.points);if(o.length<2)return null;if(t=i(o,e.strokes[n],r),!t.isMatch)return!1;for(var s=e.strokes.slice(n+1),u=t.avgDist,h=0;h<s.length;h++){var l=i(o,s[h],r);l.isMatch&&l.avgDist<u&&(u=l.avgDist)}return!(u<t.avgDist)||(t=.6*(u+t.avgDist)/(2*t.avgDist),t=(r.leniency||1)*t,t=a({},r,{leniency:t}),i(o,e.strokes[n],t).isMatch)}},function(t,e,n){function i(t,e,n){this.id=t,this.points=[e],this.externalPoints=[n]}i.prototype.appendPoint=function(t,e){this.points.push(t),this.externalPoints.push(e)},t.exports=i},function(t,e,n){var i=n(5),r=n(4),o=n(0).objRepeat;t.exports={highlightCompleteChar:function(t,e,n){return[new i("character.highlight.strokeColor",e)].concat(r.hideCharacter("highlight",t)).concat(r.showCharacter("highlight",t,n/2)).concat(r.hideCharacter("highlight",t,n/2))},highlightStroke:r.highlightStroke,startQuiz:function(t,e){return r.hideCharacter("main",t,e).concat([new i("character.highlight",{opacity:1,strokes:o({opacity:0},t.strokes.length)},{force:!0}),new i("character.main",{opacity:1,strokes:o({opacity:0},t.strokes.length)},{force:!0})])},startUserStroke:function(t,e){return[new i("quiz.activeUserStrokeId",t,{force:!0}),new i("userStrokes."+t,{points:[e],opacity:1},{force:!0})]},updateUserStroke:function(t,e){return[new i("userStrokes."+t+".points",e,{force:!0})]},removeUserStroke:function(t,e){return[new i("userStrokes."+t+".opacity",0,{duration:e}),new i("userStrokes."+t,null,{force:!0})]}}},function(t,e,n){var i=n(20);n=n(24);t.exports={HanziWriterRenderer:i,createRenderTarget:n.init}},function(t,e,n){var i=n(21),r=n(23),o=n(0).assign,a=n(3);function s(t,e){this.V=t,this.q=e,this.Mt=new i(t),this.St=new i(t),this.jt=new i(t),this.Pt={}}s.prototype.mount=function(t){t=t.createSubRenderTarget();var e=t.svg;a.attr(e,"transform","\n    translate("+this.q.xOffset+", "+(this.q.height-this.q.yOffset)+")\n    scale("+this.q.scale+", "+-1*this.q.scale+")\n  "),this.St.mount(t),this.Mt.mount(t),this.jt.mount(t),this.xt=t},s.prototype.render=function(t){var e=this,n=(this.St.render({opacity:t.character.outline.opacity,strokes:t.character.outline.strokes,strokeColor:t.options.outlineColor}),this.Mt.render({opacity:t.character.main.opacity,strokes:t.character.main.strokes,strokeColor:t.options.strokeColor,radicalColor:t.options.radicalColor}),this.jt.render({opacity:t.character.highlight.opacity,strokes:t.character.highlight.strokes,strokeColor:t.options.highlightColor}),t.userStrokes||{});Object.keys(this.Pt).forEach((function(t){n[t]||(e.Pt[t].destroy(),delete e.Pt[t])})),Object.keys(n).forEach((function(i){var a,s;n[i]&&(a=o({strokeWidth:t.options.drawingWidth,strokeColor:t.options.drawingColor},n[i]),(s=e.Pt[i])||((s=new r).mount(e.xt,a),e.Pt[i]=s),s.render(a))}))},s.prototype.destroy=function(){a.removeElm(this.xt.svg),this.xt.defs.innerHTML=""},t.exports=s},function(t,e,n){var i=n(0).isMsBrowser,r=n(22);function o(t){this.Ot={},this.At=t.strokes.map((function(t){return new r(t)}))}o.prototype.mount=function(t){var e=t.createSubRenderTarget();this.Ft=e.svg,this.At.forEach((function(t,n){t.mount(e)}))},o.prototype.render=function(t){if(t!==this.Ot){t.opacity!==this.Ot.opacity&&(this.Ft.style.opacity=t.opacity,i||(0===t.opacity?this.Ft.style.display="none":0===this.Ot.opacity&&this.Ft.style.removeProperty("display")));var e=!this.Ot||t.strokeColor!==this.Ot.strokeColor||t.radicalColor!==this.Ot.radicalColor;if(e||t.strokes!==this.Ot.strokes)for(var n=0;n<this.At.length;n++)!e&&this.Ot.strokes&&t.strokes[n]===this.Ot.strokes[n]||this.At[n].render({strokeColor:t.strokeColor,radicalColor:t.radicalColor,opacity:t.strokes[n].opacity,displayPortion:t.strokes[n].displayPortion});this.Ot=t}},t.exports=o},function(t,e,n){var i=n(0).counter,r=n(3),o=n(2),a=o.extendStart,s=o.getPathString;o=n(6);function c(t){this.Ot={},this.L=t,this.R=t.getLength()+100}(c.prototype=Object.create(o.prototype)).mount=function(t){this.Dt=r.createElm("path"),this.Tt=r.createElm("clipPath"),this.Et=r.createElm("path");var e="mask-"+i();r.attr(this.Tt,"id",e),r.attr(this.Et,"d",this.L.path),this.Dt.style.opacity=0,r.attr(this.Dt,"clip-path",r.urlIdRef(e)),e=a(this.L.points,100);return r.attr(this.Dt,"d",s(e)),r.attrs(this.Dt,{stroke:"#FFFFFF","stroke-width":200,fill:"none","stroke-linecap":"round","stroke-linejoin":"miter","stroke-dasharray":this.R+","+this.R}),this.Tt.appendChild(this.Et),t.defs.appendChild(this.Tt),t.svg.appendChild(this.Dt),this},c.prototype.render=function(t){var e,n,i,o;t!==this.Ot&&(t.displayPortion!==this.Ot.displayPortion&&(this.Dt.style.strokeDashoffset=this.z(t.displayPortion)),(o=this.H(t))!==this.H(this.Ot)&&(e=o.r,n=o.g,i=o.b,o=o.a,r.attrs(this.Dt,{stroke:"rgba("+e+","+n+","+i+","+o+")"})),t.opacity!==this.Ot.opacity&&(this.Dt.style.opacity=t.opacity),this.Ot=t)},t.exports=c},function(t,e,n){var i=n(3),r=n(2).getPathString;function o(){this.Ot={}}o.prototype.mount=function(t){this.It=i.createElm("path"),t.svg.appendChild(this.It)},o.prototype.render=function(t){var e,n,o,a;t!==this.Ot&&(t.strokeColor===this.Ot.strokeColor&&t.strokeWidth===this.Ot.strokeWidth||(e=(a=t.strokeColor).r,n=a.g,o=a.b,a=a.a,i.attrs(this.It,{fill:"none",stroke:"rgba("+e+","+n+","+o+","+a+")","stroke-width":t.strokeWidth,"stroke-linecap":"round","stroke-linejoin":"round"})),t.opacity!==this.Ot.opacity&&i.attr(this.It,"opacity",t.opacity),t.points!==this.Ot.points&&i.attr(this.It,"d",r(t.points)),this.Ot=t)},o.prototype.destroy=function(){i.removeElm(this.It)},t.exports=o},function(t,e,n){(function(e){var i=n(3),r=i.createElm,o=i.attrs,a=n(7);function s(t,e){this.svg=t,this.defs=e,this.node=t,this.node.createSVGPoint&&(this.Wt=this.node.createSVGPoint())}(s.prototype=Object.create(a.prototype)).createSubRenderTarget=function(){var t=r("g");return this.svg.appendChild(t),new s(t,this.defs)},s.prototype._=function(t){var e;return this.Wt?(this.Wt.x=t.clientX,this.Wt.y=t.clientY,{x:(e=this.Wt.matrixTransform(this.node.getScreenCTM().inverse())).x,y:e.y}):a.prototype._.call(this,t)},s.prototype.K=function(t){var e;return this.Wt?(this.Wt.x=t.touches[0].clientX,this.Wt.y=t.touches[0].clientY,{x:(e=this.Wt.matrixTransform(this.node.getScreenCTM().inverse())).x,y:e.y}):a.prototype.K.call(this,t)},s.init=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"100%",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"100%",a=void 0,c=t;if(!(c="string"==typeof t?e.document.getElementById(t):c))throw new Error("HanziWriter target element not found: "+t);return t=c.nodeName.toUpperCase(),"SVG"===t||"G"===t?a=c:(a=r("svg"),c.appendChild(a)),o(a,{width:n,height:i}),t=r("defs"),a.appendChild(t),new s(a,t)},t.exports=s}).call(e,n(1))},function(t,e,n){var i=n(26);n=n(30);t.exports={HanziWriterRenderer:i,createRenderTarget:n.init}},function(t,e,n){var i=n(27),r=n(29),o=n(0).assign;function a(t,e){this.V=t,this.q=e,this.Mt=new i(t),this.St=new i(t),this.jt=new i(t)}a.prototype.mount=function(t){this.zt=t},a.prototype.Rt=function(t){var e=this.zt.getContext();e.clearRect(0,0,this.q.width,this.q.height),e.save(),e.translate(this.q.xOffset,this.q.height-this.q.yOffset),e.transform(1,0,0,-1,0,0),e.scale(this.q.scale,this.q.scale),t(e),e.restore(),e.draw&&e.draw()},a.prototype.render=function(t){var e=this;this.Rt((function(n){e.St.render(n,{opacity:t.character.outline.opacity,strokes:t.character.outline.strokes,strokeColor:t.options.outlineColor}),e.Mt.render(n,{opacity:t.character.main.opacity,strokes:t.character.main.strokes,strokeColor:t.options.strokeColor,radicalColor:t.options.radicalColor}),e.jt.render(n,{opacity:t.character.highlight.opacity,strokes:t.character.highlight.strokes,strokeColor:t.options.highlightColor});var i=t.userStrokes||{};Object.keys(i).forEach((function(e){i[e]&&(e=o({strokeWidth:t.options.drawingWidth,strokeColor:t.options.drawingColor},i[e]),r(n,e))}))}))},a.prototype.destroy=function(){},t.exports=a},function(t,e,n){var i=n(28);function r(t){this.At=t.strokes.map((function(t){return new i(t)}))}r.prototype.render=function(t,e){if(!(e.opacity<.05))for(var n=0;n<this.At.length;n++)this.At[n].render(t,{strokeColor:e.strokeColor,radicalColor:e.radicalColor,opacity:e.strokes[n].opacity*e.opacity,displayPortion:e.strokes[n].displayPortion})},t.exports=r},function(t,e,n){(function(e){var i=n(2).extendStart,r=n(8),o=r.drawPath,a=r.pathStringToCanvas;r=n(6);function s(t){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.L=t,this.R=t.getLength()+100,n&&e.Path2D?this.Ht=new e.Path2D(this.L.path):this.Lt=a(this.L.path),this.Ut=i(this.L.points,100)}(s.prototype=Object.create(r.prototype)).render=function(t,e){var n,i,r,a;e.opacity<.05||(t.save(),this.Ht?t.clip(this.Ht):(this.Lt(t),t.globalAlpha=0,t.stroke(),t.clip()),r=(i=this.H(e)).r,a=i.g,n=i.b,r=1===(i=i.a)?"rgb("+r+","+a+","+n+")":"rgb("+r+","+a+","+n+","+i+")",a=this.z(e.displayPortion),t.globalAlpha=e.opacity,t.strokeStyle=r,t.fillStyle=r,t.lineWidth=200,t.lineCap="round",t.lineJoin="round",t.setLineDash([this.R,this.R],a),t.lineDashOffset=a,o(t,this.Ut),t.restore())},t.exports=s}).call(e,n(1))},function(t,e,n){var i=n(8).drawPath;t.exports=function(t,e){var n,r,o,a;e.opacity<.05||(n=(a=e.strokeColor).r,r=a.g,o=a.b,a=a.a,t.save(),t.globalAlpha=e.opacity,t.lineWidth=e.strokeWidth,t.strokeStyle="rgba("+n+","+r+","+o+","+a+")",t.lineCap="round",t.lineJoin="round",i(t,e.points),t.restore())}},function(t,e,n){(function(e){var i=n(7);function r(t){this.node=t}(r.prototype=Object.create(i.prototype)).getContext=function(){return this.node.getContext("2d")},r.init=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"100%",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"100%",o=void 0,a=t;if(a="string"==typeof t?e.document.getElementById(t):a)return"CANVAS"===a.nodeName.toUpperCase()?o=a:(o=e.document.createElement("canvas"),a.appendChild(o)),o.setAttribute("width",n),o.setAttribute("height",i),new r(o);throw new Error("HanziWriter target element not found: "+t)},t.exports=r}).call(e,n(1))},function(t,e,n){(function(e){t.exports=function(t,n,i){var r=new e.XMLHttpRequest;r.overrideMimeType&&r.overrideMimeType("application/json"),r.open("GET",o()+t+".json",!0),r.onerror=function(t){i(r,t)},r.onreadystatechange=function(){4===r.readyState&&(200===r.status?n(JSON.parse(r.responseText)):0!==r.status&&i&&i(r))},r.send(null)}}).call(e,n(1))},function(t,e,n){var i=n(0).callIfExists;function r(t){this._t=0,this.B=t,this.Kt=!1,this.loadingFailed=!1}r.prototype.Nt=function(t,e){function n(t){e===i._t&&i.I(t)}var i=this;t=this.B.charDataLoader(t,n,(function(t){e===i._t&&i.Bt(t)}));t&&n(t)},r.prototype.Gt=function(){var t=this;return new Promise((function(e,n){t.I=e,t.Bt=n})).then((function(e){return t.Kt=!1,i(t.B.onLoadCharDataSuccess,e),e}),(function(e){if(t.Kt=!1,t.loadingFailed=!0,i(t.B.onLoadCharDataError,e),!t.B.onLoadCharDataError){const e=t.Vt;u(e)}}))},r.prototype.loadCharData=function(t){this.Vt=t;var e=this.Gt();return this.loadingFailed=!1,this.Kt=!0,this._t++,this.Nt(t,this._t),e},t.exports=r}],l={},m.m=h,m.c=l,m.d=function(t,e,n){m.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},m.n=function(t){var e=t&&t.t?function(){return t.default}:function(){return t};return m.d(e,"a",e),e},m.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},m.p="";var h,l,p=m(m.s=9),f={NORMAL:"normal",ANIMATION:"animation",STROKE:"stroke",TEST:"test"},d={MISTAKE:"mistake",CORRECT:"correct",COMPLETE:"complete"},g={showOutline:!0,showCharacter:!0,currentColor:"#b44",clear:!0,length:60,padding:5,outlineColor:"#ddd",backgroundColor:"#fff",strokeColor:"#555",radicalColor:null,strokeFadeDuration:400,lineStraight:!0,lineCross:!0,lineWidth:1,lineColor:"#ddd",lineDash:!0,border:!0,borderWidth:1,borderColor:"#ccc",borderDash:!1,strokeAnimationSpeed:1,delayBetweenStrokes:1e3,delayBetweenLoops:200,autoAnimate:!0,animateComplete:function(){},stepByStep:!0,loopAnimate:!1,strokeHighlightSpeed:20,highlightColor:"#aaf",drawingColor:"#333",drawingWidth:4,showHintAfterMisses:3,highlightOnComplete:!0,highlightCompleteColor:null,onTestStatus:null};function m(t){if(l[t])return l[t].exports;var e=l[t]={i:t,l:!1,exports:{}};return h[t].call(e.exports,e,e.exports,m),e.l=!0,e.exports}function v(t){return void 0===t}function y(t,e,n){void 0===n&&(n="");var i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttributeNS(null,"d",t),i.style.fill=n,e.appendChild(i)}function w(t,e){if(void 0===t&&(t=""),void 0===e&&(e={}),"undefined"==typeof window)return null;if(t=function(t,e){for(var n,i="",r=0;r<t.length;r++)19968<=(n=t[r].charCodeAt(0))&&n<=40869?i+=t[r]:e(t[r]);return i}(t,(function(t){u(t)})))return e.text=t,new x(e);throw new Error("Draw 方法text必须含有中文")}S.prototype._getCurrentCharStrokeNumber=function(){return this.writers[this.currentCharIndex].V.strokes.length},S.prototype._isStepMode=function(){return this.option.stepByStep},S.prototype._animate=function(t){var e=this;if(void 0===t&&(t=function(){}),this._isStepMode())!1===this.option.showCharacter&&this.writers.forEach((function(t){t.hideCharacter()})),this._animateStep(0,t);else for(var n=0,i=0;i<this.writers.length;i++)this._animateSingle(i,(function(){++n===e.writers.length&&t()}))},S.prototype.drawNextStroke=function(t){var e=this;if(1===this.drawMode)return!1;if(0===this.drawMode&&(this.drawMode=2),this.strokeDrawLocked)return!1;this.strokeDrawLocked=!0,0===this.currentCharIndex&&0===this.currentStrokeIndex&&this.writers.forEach((function(t){t.hideCharacter()})),this.writers[this.currentCharIndex].animateStroke(this.currentStrokeIndex,{onComplete:function(){t(),e.strokeDrawLocked=!1}});var n=this._getCurrentCharStrokeNumber();return this.currentStrokeIndex>=n-1?(this.currentStrokeIndex=0,this.currentCharIndex++,this.currentCharIndex===this.writer.text.length&&(this.currentCharIndex=0)):this.currentStrokeIndex++,!0},S.prototype.start=function(){return 0===this.drawMode&&(this.drawMode=1,this.option.loopAnimate?this._loop():this._animate(this.option.animateComplete),!0)},S.prototype.pause=function(){!this.isPaused&&this._isStepMode()&&(this.isPaused=!0,this.writers[this.currentCharIndex].pauseAnimation())},S.prototype.resume=function(){this.isPaused&&this._isStepMode()&&(this.isPaused=!1,this.writers[this.currentCharIndex].resumeAnimation())},S.prototype._loop=function(){var t=this,e=this.option;this._animate((function(){e.animateComplete&&e.animateComplete(),setTimeout((function(){t._loop()}),e.delayBetweenStrokes)}))},S.prototype._animateSingle=function(t,e){t>=this.writers.length?e(!0):this.writers[t].animateCharacter({onComplete:function(){e(!1)}})},S.prototype._animateStep=function(t,e){var n=this;void 0===e&&(e=function(){}),this.currentCharIndex=t,this._animateSingle(t,(function(i){i?e():setTimeout((function(){n._animateStep(t+1,e)}),n.option.delayBetweenStrokes)}))};var k=S,C=(n="object"==typeof window&&window.document||null,n?n.createElementNS("http://www.w3.org/2000/svg","svg"):null),x=(b.prototype.init=function(){var t,e,n,i,r,o,a,s,c,u,h,l,g,m,v,w,x,b,S,_,T=this;null!==C&&(c=this.option,u=c.width,h=c.lineStraight,l=c.lineCross,g=c.lineWidth,m=c.lineColor,v=c.lineDash,w=c.border,x=c.borderWidth,b=c.borderColor,c=c.borderDash,_=S="",v&&(_+='stroke-dasharray="8"'),g&&1<g&&(_+='stroke-width="'+g+'"'),h&&(S+='<line x1="'+(v=u/2)+'" y1="0" x2="'+v+'" y2="'+u+'" '+_+' stroke="'+m+'" />\n        <line x1="0" y1="'+v+'" x2="'+u+'" y2="'+v+'" '+_+' stroke="'+m+'" />'),l&&(S+='<line x1="0" y1="0" x2="'+u+'" y2="'+u+'" '+_+' stroke="'+m+'" />\n        <line x1="'+u+'" y1="0" x2="0" y2="'+u+'" '+_+' stroke="'+m+'" />'),g="",h={lineHTML:S,border:g=w?x+"px "+(c?"dashed":"solid")+" "+b:g},t=h.lineHTML,e=h.border,n=function(n){var i=C.cloneNode();return T.option.width&&i.setAttribute("width",T.option.width.toString()),T.option.height&&i.setAttribute("height",T.option.height.toString()),e&&(i.style.border=e),t&&(i.innerHTML=t),n.backgroundColor&&(i.style.backgroundColor=n.backgroundColor),i},this.type===f.STROKE?(s=n,(a=this).text.forEach((function(t){var e=document.createElement("div");a.el.appendChild(e),p.loadCharacterData(t).then((function(t){for(var n=0;n<t.strokes.length;n++){i=void 0,r=void 0,o=void 0,c=void 0,u=void 0,h=void 0,l=void 0,i=void 0,f=void 0,h=void 0,d=void 0,o=void 0,g=void 0,m=void 0;var i={option:a.option,target:e,strokes:t.strokes,radStrokes:t.radStrokes||[],current:n,cloneSvg:s,width:a.option.width},r=i.option,o=i.target,c=i.strokes,u=i.radStrokes,h=i.cloneSvg,l=i.current,f=(i=i.width,0<u.length&&r.radicalColor?r.radicalColor:null),d=(h=h(r),o.appendChild(h),document.createElementNS("http://www.w3.org/2000/svg","g"));o=p.getScalingTransform(i,i,r.padding);d.setAttributeNS(null,"transform",o.transform),h.appendChild(d);for(var g=0;g<=l;g++){var m=r.strokeColor;g===l&&r.currentColor?m=r.currentColor:f&&-1!==u.indexOf(g)&&(m=f),y(c[g],d,m)}if(r.showOutline&&l+1<=c.length)for(g=l+1;g<c.length;g++)y(c[g],d,r.outlineColor)}})).catch((function(t){}))}))):(this.text.forEach((function(t){var e=n(T.option);T.writers.push(p.create(e,t,T.option)),T.el.appendChild(e)})),this.type===f.ANIMATION?(this.animation=new k(this),this.option.autoAnimate?this.startAnimation():(i=function(){T.startAnimation(),T.el.removeEventListener("click",i,!1)},this.el.addEventListener("click",i,!1))):this.type===f.TEST&&(r=this.option.onTestStatus,o="function"==typeof r?function(t){return{onMistake:function(e){r({index:t,status:d.MISTAKE,data:e})},onCorrectStroke:function(e){r({index:t,status:d.CORRECT,data:e})},onComplete:function(e){r({index:t,status:d.COMPLETE,data:e})}}}:function(){return{}},this.writers.forEach((function(t,e){t.quiz(o(e))})))))},b.prototype.startAnimation=function(){return this.animation.start()},b.prototype.drawNextStroke=function(t){return this.animation.drawNextStroke(t=void 0===t?function(){}:t)},b.prototype.pauseAnimation=function(){this.animation.pause()},b.prototype.resumeAnimation=function(){this.animation.resume()},b);function b(t){var e=t.el,n=(e=void 0===e?"cnchar-draw":e,t.text),i=(n=void 0===n?"":n,t.clear),r=(i=void 0===i||i,t.type),o=(r=void 0===r?f.NORMAL:r,t.style),a=(o=void 0===o?{}:o,t.line),s=(a=void 0===a?{}:a,t.animation),c=void 0===s?{}:s,u=(s=t.stroke,void 0===s?{}:s),h=(s=t.test,void 0===s?{}:s),l=(this.type=r,this.writers=[],this.text=n.split(""),{style:o,line:a});switch(r){case f.ANIMATION:l.animation=c;break;case f.STROKE:l.stroke=u;break;case f.TEST:l.test=h}this.option=function(t,e){var n,i,r,o={};for(n in e){var a,s=e[n];for(a in s)v(s[a])||(o[a]=s[a])}return r=o,Object.keys(g).forEach((function(t){v(r[t])&&(r[t]=g[t])})),o.width=o.length,o.height=o.length,i=o,(t=t)===f.ANIMATION?e.animation&&!v(e.animation.showCharacter)||(i.showCharacter=!1):t===f.STROKE&&(i.showCharacter=!1),o}(r,l),this.el=("string"==typeof(t=e)&&null===(t=document.querySelector(t))&&(t=document.createElement("div"),document.body.appendChild(t)),t),this.el&&i&&(this.el.innerHTML=""),this.init()}function S(t){this.writer=t,this.option=t.option,this.writers=t.writers,this.isPaused=!1,this.drawMode=0,this.currentCharIndex=0,this.currentStrokeIndex=0,this.strokeDrawLocked=!1}w.setResourceBase=a,w.TYPE=f,w.TEST_STATUS=d,w.onWordNotFound=function(t){t=t,c.push(t)};var _=w;n={pluginName:"draw",install:function(t){return s(t),{draw:_}}};"object"==typeof window&&(window.CncharDraw=_,window.CnChar&&window.CnChar.use(n)),e.default=Object.assign(_,n)}]).default}}]);